<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nico Maggioli</title>
    <link rel="icon" type="image/png" href="favicon.png">
    <!-- No social preview image -->
    <meta property="og:title" content="Nico Maggioli">
    <meta property="og:type" content="website">
    <meta name="robots" content="noimageindex">
    <style>
        /* ── RESET ─────────────────────────────────────────────── */
        *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

        :root {
            --green:  #FF8C33;
            --gd:     #FF8C33;
            --black:  #111;
            --muted:  #666;
            --g1:     #f5f5f5;
            --g2:     #efefef;
            --g3:     #ccc;
            --nav-h:  70px;
            --r:      16px;
            --font:   -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
        }

        html { scroll-behavior: smooth; }
        ::selection { background: rgba(255,140,51,.25); color: #111; }

        body {
            font-family: var(--font);
            background: #fff;
            color: var(--black);
        }

        img { display: block; max-width: 100%; }
        button { font-family: var(--font); cursor: pointer; }

        /* ── HEADER ─────────────────────────────────────────────── */
        .header {
            position: fixed;
            top: 0; left: 0; right: 0;
            height: var(--nav-h);
            background: #fff;
            border-bottom: 1px solid var(--g2);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0 24px;
            z-index: 1000;
            transition: box-shadow .3s, background .3s, border-color .3s;
        }
        .header.scrolled {
            background: rgba(8,8,8,.72);
            backdrop-filter: blur(22px) saturate(160%);
            -webkit-backdrop-filter: blur(22px) saturate(160%);
            box-shadow: 0 1px 0 rgba(255,255,255,.06), 0 4px 28px rgba(0,0,0,.7);
            border-bottom-color: transparent;
        }

        .logo-wrap {
            position: absolute;
            left: 24px;
            perspective: 320px;
        }
        .logo {
            width: 44px; height: 44px;
            display: flex; align-items: center; justify-content: center;
            cursor: pointer;
            border: none;
            background: transparent;
            border-radius: 0;
        }
        .logo img {
            width: 100%; height: 100%; object-fit: contain;
            animation: logoSpin3d 7s linear infinite;
            filter: brightness(0) saturate(100%) invert(62%) sepia(97%) saturate(1000%) hue-rotate(346deg) brightness(101%) contrast(101%);
        }
        @keyframes logoSpin3d {
            0%   { transform: rotateY(0deg); }
            100% { transform: rotateY(360deg); }
        }

        /* ── NAV ─────────────────────────────────────────────────── */
        .nav-tabs { display: flex; gap: 4px; flex-wrap: nowrap; }

        .nav-tab {
            height: 40px;
            padding: 0 18px;
            border-radius: 20px;
            font-size: 15px;
            font-weight: 500;
            border: none;
            background: transparent;
            color: var(--muted);
            white-space: nowrap;
            transition: background .15s, color .15s;
        }
        .nav-tab:hover  { background: var(--g2); color: var(--black); }
        .nav-tab.active { background: var(--black); color: #fff; }

        /* ── MOBILE TOGGLE ───────────────────────────────────────── */
        .mobile-toggle {
            display: none;
            flex-direction: column;
            gap: 5px;
            padding: 8px;
            background: transparent;
            border: none;
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
        }
        .h-line { height: 2px; width: 24px; background: var(--black); border-radius: 2px; transition: all .3s; }

        @media (max-width: 768px) {
            .nav-tabs { display: none; }
            .mobile-toggle { display: flex; }
        }

        /* Hide Saved on mobile */
        @media (max-width: 768px) {
            .nav-tab[data-page="saved"] { display: none; }
        }
        @media (pointer: coarse) {
            .mob-item[data-page="saved"] { display: none; }
        }

        /* ── MOBILE MENU ─────────────────────────────────────────── */
        .mob-menu {
            position: fixed;
            top: 0; right: -100%;
            width: 80%; max-width: 340px;
            height: 100vh;
            background: #0a0a0a;
            border-left: 1px solid #1f1f1f;
            z-index: 5000;
            transition: right .4s cubic-bezier(.34,1.56,.64,1);
            display: flex;
            flex-direction: column;
            font-family: 'Courier New', monospace;
        }
        .mob-menu.open { right: 0; }

        .mob-backdrop {
            position: fixed; inset: 0;
            background: rgba(0,0,0,.75);
            z-index: 4999;
            opacity: 0; pointer-events: none;
            transition: opacity .3s;
        }
        .mob-backdrop.open { opacity: 1; pointer-events: all; }

        .mob-head {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 22px 20px;
            border-bottom: 1px solid #1a1a1a;
        }
        .mob-id { font-size: 10px; letter-spacing: 2px; color: var(--green); }

        .mob-close {
            width: 36px; height: 36px;
            background: transparent;
            border: 1px solid #333;
            border-radius: 50%;
            color: #888;
            display: flex; align-items: center; justify-content: center;
            transition: all .2s;
        }
        .mob-close:hover { border-color: var(--green); color: var(--green); transform: rotate(90deg); }

        .mob-items { flex: 1; padding: 16px; display: flex; flex-direction: column; gap: 10px; }

        .mob-item {
            display: flex;
            align-items: center;
            gap: 18px;
            padding: 18px 20px;
            background: #0f0f0f;
            border: 1px solid #1a1a1a;
            border-radius: 10px;
            cursor: pointer;
            text-align: left;
            width: 100%;
            transition: background .2s, border-color .2s;
        }
        .mob-item:hover,
        .mob-item.active { background: #1a1a1a; border-color: var(--green); }

        .mob-num   { font-size: 10px; color: var(--green); opacity: .7; }
        .mob-label { font-size: 13px; letter-spacing: 2px; color: #fff; }

        .mob-foot {
            padding: 20px;
            border-top: 1px solid #1a1a1a;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .mob-status { display: flex; align-items: center; gap: 8px; font-size: 10px; letter-spacing: 1px; color: var(--green); }
        .status-dot { width: 6px; height: 6px; background: var(--green); border-radius: 50%; animation: pulse 2s infinite; }

        @keyframes pulse { 0%,100%{opacity:1} 50%{opacity:.35} }

        /* ── MAIN ─────────────────────────────────────────────────── */
        .main {
            padding-top: calc(var(--nav-h) + 4px);
            padding-left: 18px;
            padding-right: 18px;
            padding-bottom: 40px;
            min-height: 100vh;
        }
        /* Mobile padding matches masonry gutter */
        @media (max-width: 900px) {
            .main { padding-left: 8px; padding-right: 8px; }
            .hero { margin-left: -8px; margin-right: -8px; }
        }
        @media (max-width: 600px) {
            .main { padding-left: 6px; padding-right: 6px; }
            .hero { margin-left: -6px; margin-right: -6px; }
        }

        .page { display: none; opacity: 0; transform: translateY(16px); }
        .page.active {
            display: block;
            opacity: 1;
            transform: translateY(0);
            animation: pageIn .4s cubic-bezier(.34,1.56,.64,1);
        }
        @keyframes pageIn { from{opacity:0;transform:translateY(20px)} to{opacity:1;transform:translateY(0)} }

        /* ── MASONRY ──────────────────────────────────────────────── */
        .masonry-grid { column-count: 4; column-gap: 18px; padding-top: 18px; }

        @media (max-width: 900px)  { .masonry-grid { column-count: 3; column-gap: 8px; padding-top: 8px; } }
        @media (max-width: 600px)  { .masonry-grid { column-count: 2; column-gap: 6px; padding-top: 6px; } }

        /* ── PIN ──────────────────────────────────────────────────── */
        @keyframes shimmer {
            0%   { background-position: -200% 0; }
            100% { background-position:  200% 0; }
        }
        .pin {
            break-inside: avoid;
            margin-bottom: 18px;
            border-radius: var(--r);
            overflow: hidden;
            position: relative;
            cursor: pointer;
            background: linear-gradient(90deg, #efefef 25%, #e2e2e2 50%, #efefef 75%);
            background-size: 200% 100%;
            animation: shimmer 1.4s ease-in-out infinite;
            transform-style: preserve-3d;
        }
        .pin.loaded { background: none; animation: none; }
        @media (max-width: 900px) { .pin { margin-bottom: 8px; } }
        @media (max-width: 600px) { .pin { border-radius: 8px; margin-bottom: 6px; } }

        .pin img {
            width: 100%;
            display: block;
            border-radius: var(--r);
            opacity: 0;
            transform: translateY(12px);
            transition: opacity .4s ease, transform .4s ease;
        }
        .pin img.visible { opacity: 1; transform: translateY(0); }
        @media (max-width: 600px) { .pin img { border-radius: 8px; } }

        /* Images show at their natural proportions — no cropping */

        /* Hide save overlay on touch devices / mobile */
        @media (pointer: coarse), (max-width: 768px) { .pin-overlay { display: none; } }

        .pin-overlay {
            position: absolute; inset: 0;
            border-radius: var(--r);
            background: rgba(0,0,0,.35);
            opacity: 0;
            transition: opacity .2s;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            padding: 12px;
        }
        @media (max-width: 600px) { .pin-overlay { border-radius: 12px; } }
        .pin:hover .pin-overlay { opacity: 1; }

        .save-btn {
            align-self: flex-end;
            background: var(--green);
            color: #fff;
            border: none;
            padding: 10px 18px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 15px;
            transition: transform .1s, background .15s;
        }
        .save-btn:hover  { background: var(--gd); transform: scale(1.05); }
        .save-btn.saved  { background: var(--black); }

        /* ── LIGHTBOX ─────────────────────────────────────────────── */
        .lightbox {
            position: fixed; inset: 0;
            background: rgba(0,0,0,.92);
            z-index: 2000;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        .lightbox.active { display: flex; }

        /*
         * CLOSE BUTTON FIX:
         * • position:fixed so it's always top-right of the SCREEN, not the image
         * • display:flex + align/justify center so the SVG is pixel-perfect centered
         * • SVG instead of the × character (no font-metric surprises)
         */
        .lb-close {
            position: fixed;
            top: 18px;
            right: 18px;
            width: 44px;
            height: 44px;
            background: rgba(255,255,255,.15);
            border: 1.5px solid rgba(255,255,255,.3);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 2010;
            color: #fff;
            transition: background .15s, transform .2s;
        }
        .lb-close:hover { background: rgba(255,255,255,.28); transform: scale(1.08) rotate(90deg); }

        .lb-img-wrap {
            position: relative;
            max-width: min(90vw, 900px);
            max-height: 90vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .lb-img-wrap img {
            max-width: 100%;
            max-height: 90vh;
            border-radius: var(--r);
            box-shadow: 0 24px 64px rgba(0,0,0,.6);
            display: block;
        }

        .lb-arrow {
            position: fixed;
            top: 50%;
            transform: translateY(-50%);
            width: 44px; height: 44px;
            background: rgba(255,255,255,.15);
            border: 1.5px solid rgba(255,255,255,.25);
            border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            cursor: pointer;
            color: #fff;
            transition: background .15s;
            z-index: 2005;
        }
        .lb-arrow:hover { background: rgba(255,255,255,.28); }
        .lb-arrow.prev  { left: 20px; }
        .lb-arrow.next  { right: 20px; }
        @media (max-width: 600px) { .lb-arrow { display: none; } }

        /* ── SAVED EMPTY ──────────────────────────────────────────── */
        .saved-empty {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            color: var(--muted);
            text-align: center;
            padding: 80px 20px;
        }
        .saved-empty-mono { font-family: 'Courier New', monospace; font-size: 10px; letter-spacing: 3px; color: var(--muted); text-transform: uppercase; margin-bottom: 6px; }
        .saved-empty p    { font-size: 14px; max-width: 280px; line-height: 1.6; }

        .browse-link {
            margin-top: 16px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            height: 40px;
            padding: 0 20px;
            background: var(--green);
            color: #000;
            border: none;
            border-radius: 20px;
            font-size: 15px;
            font-weight: 500;
            text-decoration: none;
            font-family: var(--font);
            transition: opacity .15s;
        }
        .browse-link:hover { opacity: .8; }

        /* ── SHOP — COMING SOON ───────────────────────────────────── */
        .coming-soon {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: calc(100vh - var(--nav-h));
            padding: 0 24px;
            text-align: center;
        }
        .cs-tag {
            font-size: 11px;
            letter-spacing: 3px;
            text-transform: uppercase;
            color: var(--green);
            font-weight: 600;
            margin-bottom: 24px;
        }
        .coming-soon h1 {
            font-size: clamp(52px, 10vw, 96px);
            font-weight: 300;
            letter-spacing: -3px;
            line-height: 1;
            color: var(--black);
            margin-bottom: 20px;
        }
        .coming-soon p {
            font-size: 17px;
            color: var(--muted);
            line-height: 1.7;
            max-width: 360px;
            margin-bottom: 44px;
        }
        .cs-bar-wrap {
            width: 160px; height: 2px;
            background: var(--g2);
            border-radius: 2px;
            overflow: hidden;
            margin-bottom: 12px;
        }
        .cs-bar-fill {
            height: 100%;
            background: var(--green);
            border-radius: 2px;
            animation: csSlide 2.4s ease-in-out infinite alternate;
        }
        @keyframes csSlide {
            0%   { width: 30%; margin-left: 0; }
            100% { width: 50%; margin-left: 50%; }
        }
        .cs-hint { font-size: 11px; letter-spacing: 2px; color: var(--g3); text-transform: uppercase; }

        /* ── SHOP ─────────────────────────────────────────────────── */
        @keyframes blink-cur  { 0%,49%{opacity:1}50%,100%{opacity:0} }
        @keyframes scan-sweep { 0%{top:-35%} 100%{top:110%} }
        @keyframes status-scroll { 0%{transform:translateX(0)} 100%{transform:translateX(-50%)} }
        @keyframes shake { 0%,100%{transform:translateX(0)} 20%,60%{transform:translateX(-6px)} 40%,80%{transform:translateX(6px)} }

        .shop-wrap {
            min-height: calc(100vh - var(--nav-h));
            background: #0a0a0a;
            color: #e0e0e0;
            padding: 0 24px 80px;
        }
        .shop-hd {
            display: flex; align-items: baseline;
            justify-content: space-between; gap: 16px;
            padding: 24px 0 12px;
            border-bottom: 1px solid #1f1f1f;
            margin-bottom: 0;
        }
        .shop-hd-left { display: flex; flex-direction: column; gap: 4px; }
        .shop-hd-label {
            font-family: 'Courier New', monospace;
            font-size: 8px; letter-spacing: 3px;
            color: var(--green); text-transform: uppercase;
        }
        .shop-hd-label::after { content: '_'; animation: blink-cur 1.1s step-end infinite; }
        .shop-hd-title {
            font-family: var(--font);
            font-size: 22px; font-weight: 700;
            letter-spacing: -0.5px; color: #f0f0f0;
        }
        .shop-hd-count {
            font-family: 'Courier New', monospace;
            font-size: 9px; color: rgba(255,255,255,.3);
            letter-spacing: 2px; align-self: flex-end;
        }
        .shop-status {
            overflow: hidden; padding: 6px 0;
            border-bottom: 1px solid #1a1a1a; margin-bottom: 22px;
        }
        .shop-status-inner {
            display: inline-block; white-space: nowrap;
            animation: status-scroll 28s linear infinite;
            font-family: 'Courier New', monospace;
            font-size: 7px; letter-spacing: 2px;
            color: rgba(255,255,255,.15); text-transform: uppercase;
        }
        .shop-status-inner em { color: var(--green); font-style: normal; }
        .shop-filter { display: flex; gap: 4px; padding-bottom: 28px; flex-wrap: wrap; }
        .shop-filter-btn {
            height: 40px; padding: 0 18px; border-radius: 20px; border: none;
            background: transparent; font-family: var(--font);
            font-size: 15px; font-weight: 500;
            color: rgba(255,255,255,.4); cursor: pointer;
            transition: background .15s, color .15s;
        }
        .shop-filter-btn:hover  { background: #1a1a1a; color: #fff; }
        .shop-filter-btn.active { background: #fff; color: #000; }
        .shop-grid {
            display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px;
        }
        .shop-item { cursor: pointer; }
        .shop-item[hidden] { display: none; }
        .shop-img-wrap {
            position: relative; aspect-ratio: 1;
            background: #111; overflow: hidden;
            border-radius: var(--r);
            border: 1px solid #1e1e1e;
            transition: border-color .3s, box-shadow .3s;
        }
        .shop-item:hover .shop-img-wrap {
            border-color: #333;
            box-shadow: 0 8px 32px rgba(0,0,0,.5);
        }
        .shop-scan {
            position: absolute; left: 0; right: 0; top: -35%; height: 35%;
            background: linear-gradient(to bottom, transparent, rgba(255,140,51,.06), transparent);
            z-index: 3; pointer-events: none;
        }
        .shop-item:hover .shop-scan { animation: scan-sweep .85s ease-in-out forwards; }
        .shop-img-wrap img {
            width: 100%; height: 100%; object-fit: contain; display: block;
            transition: transform .55s ease; padding: 8%;
            filter: drop-shadow(0 4px 20px rgba(0,0,0,.6));
        }
        .shop-item:hover .shop-img-wrap img { transform: scale(1.05); }
        .shop-item-spec {
            font-family: 'Courier New', monospace; font-size: 7px; letter-spacing: 2px;
            color: rgba(255,140,51,.6); padding: 10px 0 3px; text-transform: uppercase;
        }
        .shop-item-name {
            display: block; font-family: var(--font); font-size: 14px; font-weight: 500;
            color: rgba(255,255,255,.85); margin-bottom: 3px;
        }
        .shop-item-price {
            font-family: 'Courier New', monospace; font-size: 12px;
            color: rgba(255,255,255,.4); letter-spacing: 1px;
        }
        .shop-item-braille-row {
            display: flex; justify-content: space-between; align-items: center;
            margin-top: 10px; padding-top: 8px; border-top: 1px solid #1a1a1a;
        }
        .shop-item-braille {
            font-family: 'Courier New', monospace; font-size: 10px;
            color: rgba(255,255,255,.1); letter-spacing: 1px;
            overflow: hidden; white-space: nowrap; max-width: 74%;
            transition: color .4s;
        }
        .shop-item:hover .shop-item-braille { color: rgba(255,140,51,.3); }
        .shop-item-idx {
            font-family: 'Courier New', monospace; font-size: 9px;
            color: rgba(255,255,255,.18); flex-shrink: 0; letter-spacing: 0;
        }
        /* Braille scrolling strip — shared across all pages */
        @keyframes scroll-left { 0%{transform:translateX(0)} 100%{transform:translateX(-50%)} }
        .braille-strip {
            overflow: hidden; white-space: nowrap;
            padding: 9px 0;
            border-top: 1px solid #141414; border-bottom: 1px solid #141414;
        }
        .braille-strip-inner {
            display: inline-block;
            animation: scroll-left 120s linear infinite;
            font-family: 'Courier New', monospace; font-size: 12px;
            color: rgba(255,140,51,.18); letter-spacing: 5px;
        }
        /* Strip spacing variants */
        .braille-strip.shop-strip { margin-bottom: 20px; }
        .braille-strip.page-strip { margin: 28px 0 0; }
        .shop-item-info { padding: 0 0 20px; }


        /* ── PRODUCT DETAIL (PDP) ────────────────────────────────────── */
        .pdp-overlay {
            position: fixed; inset: 0; background: rgba(0,0,0,.88);
            z-index: 3500; display: flex; align-items: center; justify-content: center;
            opacity: 0; pointer-events: none; transition: opacity .3s; padding: 20px;
        }
        .pdp-overlay.open { opacity: 1; pointer-events: all; }
        .pdp {
            background: #111; border-radius: 20px;
            width: 100%; max-width: 860px; max-height: 90vh; overflow-y: auto;
            display: grid; grid-template-columns: 1fr 1fr; position: relative;
            border: 1px solid #222;
        }
        @media (max-width: 700px) { .pdp { grid-template-columns: 1fr; } }
        .pdp-imgs { padding: 24px; display: flex; flex-direction: column; gap: 12px; }
        .pdp-main { aspect-ratio: 1; background: #0d0d0d; border-radius: 12px; overflow: hidden; position: relative; }
        .pdp-main img { width: 100%; height: 100%; object-fit: contain; padding: 8%; filter: drop-shadow(0 4px 20px rgba(0,0,0,.7)); transition: opacity .25s; }
        .pdp-thumbs { display: flex; gap: 8px; flex-wrap: wrap; }
        .pdp-thumb {
            width: 60px; height: 60px; border-radius: 8px; overflow: hidden;
            background: #0d0d0d; border: 1.5px solid #222; cursor: pointer;
            transition: border-color .2s; padding: 0; flex-shrink: 0;
        }
        .pdp-thumb.active { border-color: var(--green); }
        .pdp-thumb img { width: 100%; height: 100%; object-fit: contain; padding: 8%; }
        .pdp-info { padding: 32px 28px 32px 8px; display: flex; flex-direction: column; gap: 16px; }
        @media (max-width: 700px) { .pdp-info { padding: 0 24px 28px; } }
        .pdp-spec { font-family: 'Courier New', monospace; font-size: 8px; letter-spacing: 3px; color: rgba(255,140,51,.7); text-transform: uppercase; }
        .pdp-name { font-size: 24px; font-weight: 700; color: #f0f0f0; letter-spacing: -0.5px; }
        .pdp-price { font-family: 'Courier New', monospace; font-size: 20px; color: var(--green); letter-spacing: 1px; }
        .pdp-desc { font-size: 14px; line-height: 1.6; color: rgba(255,255,255,.5); }
        .pdp-size-label { font-family: 'Courier New', monospace; font-size: 8px; letter-spacing: 2px; color: rgba(255,255,255,.4); text-transform: uppercase; }
        .pdp-sizes { display: flex; gap: 8px; flex-wrap: wrap; }
        .pdp-sizes.shake { animation: shake .4s ease; }
        .pdp-size-btn {
            min-width: 44px; height: 44px; border-radius: 8px; padding: 0 12px;
            border: 1px solid #2a2a2a; background: transparent;
            font-family: var(--font); font-size: 13px; font-weight: 500;
            color: rgba(255,255,255,.6); cursor: pointer; transition: all .15s;
        }
        .pdp-size-btn:hover  { border-color: #444; color: #fff; }
        .pdp-size-btn.active { border-color: var(--green); background: rgba(255,140,51,.1); color: #fff; }
        .pdp-add-btn {
            height: 52px; border-radius: 26px; border: none;
            background: var(--green); color: #000;
            font-family: var(--font); font-size: 15px; font-weight: 700;
            cursor: pointer; transition: opacity .2s; margin-top: auto;
        }
        .pdp-add-btn:hover { opacity: .85; }
        .pdp-close {
            position: absolute; top: 16px; right: 16px;
            width: 36px; height: 36px; border-radius: 50%;
            border: 1px solid #2a2a2a; background: #1a1a1a;
            color: #888; font-size: 20px; line-height: 1;
            cursor: pointer; display: flex; align-items: center; justify-content: center;
            transition: all .2s; z-index: 10;
        }
        .pdp-close:hover { border-color: var(--green); color: var(--green); }


        /* ── ABOUT PAGE ───────────────────────────────────────────── */
        .about-wrap { max-width: 100%; margin: 0; padding: 0; }
        /* Channel header */
        .about-ch-head {
            padding: 24px 0 12px; border-bottom: 1px solid #1a1a1a;
        }
        .about-ch-kicker {
            font-family: 'Courier New', monospace; font-size: 9px;
            letter-spacing: 3px; color: rgba(255,140,51,.7); text-transform: uppercase;
            margin-bottom: 14px;
        }
        .about-ch-title {
            font-size: clamp(17px, 3vw, 26px); font-weight: 700;
            color: #f0f0f0; letter-spacing: -0.5px; line-height: 1.25; margin-bottom: 14px;
        }
        .about-ch-sub {
            font-size: 16px; line-height: 1.75; color: rgba(255,255,255,.7); max-width: 580px;
        }
        /* Cards row */
        .about-cards {
            display: grid; grid-template-columns: repeat(3, 1fr);
            border-bottom: 1px solid #1a1a1a;
        }
        .about-card {
            padding: 24px; border-right: 1px solid #1a1a1a;
        }
        .about-card:last-child { border-right: none; }
        .about-card-label {
            font-family: 'Courier New', monospace; font-size: 9px;
            letter-spacing: 3px; color: rgba(255,140,51,.7); text-transform: uppercase;
            margin-bottom: 18px;
        }
        .about-card-body {
            font-size: 15px; line-height: 1.8; color: rgba(255,255,255,.75); margin-bottom: 24px;
        }
        /* Pills */
        .about-pill-row { display: flex; flex-wrap: wrap; gap: 8px; }
        .about-pill {
            padding: 5px 12px; border: 1px solid #222;
            font-family: 'Courier New', monospace; font-size: 9px;
            letter-spacing: 1px; color: rgba(255,255,255,.6); text-transform: uppercase;
        }
        /* Accordion */
        .about-expand-list { display: flex; flex-direction: column; }
        .about-expand-item { border-top: 1px solid #1a1a1a; padding: 12px 0; }
        .about-expand-item:first-child { border-top: none; padding-top: 0; }
        .about-expand-item summary {
            font-family: var(--font); font-size: 14px; letter-spacing: 0;
            color: rgba(255,255,255,.75); text-transform: none; cursor: pointer;
            list-style: none; display: flex; justify-content: space-between; align-items: center;
            gap: 12px;
        }
        .about-expand-item summary::-webkit-details-marker { display: none; }
        .about-expand-item summary::after {
            content: '+'; color: rgba(255,140,51,.6); font-size: 14px;
            font-family: monospace; flex-shrink: 0;
        }
        .about-expand-item[open] summary::after { content: '−'; }
        .about-expand-item p {
            font-family: var(--font); font-size: 15px; line-height: 1.75; color: rgba(255,255,255,.65);
            margin-top: 10px; padding-right: 16px;
        }
        /* Resume panel */
        .about-resume {
            margin: 32px 0 0; border: 1px solid #1a1a1a;
        }
        .about-resume-head {
            padding: 24px; border-bottom: 1px solid #1a1a1a;
        }
        .about-resume-kicker {
            font-family: 'Courier New', monospace; font-size: 9px;
            letter-spacing: 3px; color: rgba(255,140,51,.7); text-transform: uppercase;
            margin-bottom: 10px;
        }
        .about-resume-title {
            font-size: clamp(17px, 2.5vw, 22px); font-weight: 700;
            color: #f0f0f0; letter-spacing: -0.5px; margin-bottom: 8px;
        }
        .about-resume-note {
            font-size: 15px; line-height: 1.7; color: rgba(255,255,255,.6); max-width: 520px;
        }
        .about-resume-cols { display: grid; grid-template-columns: 1fr 1fr; }
        .about-resume-col { padding: 24px; }
        .about-resume-col + .about-resume-col { border-left: 1px solid #1a1a1a; }
        .about-resume-section-label {
            font-family: 'Courier New', monospace; font-size: 9px;
            letter-spacing: 3px; color: rgba(255,140,51,.7); text-transform: uppercase;
            margin-bottom: 18px; padding-bottom: 8px; border-bottom: 1px solid #1a1a1a;
        }
        .about-resume-entry { margin-bottom: 28px; }
        .about-resume-entry:last-child { margin-bottom: 0; }
        .about-resume-org {
            font-size: 15px; font-weight: 600; color: rgba(255,255,255,.85); margin-bottom: 4px;
        }
        .about-resume-role {
            font-family: 'Courier New', monospace; font-size: 9px;
            letter-spacing: 2px; color: rgba(255,140,51,.7); text-transform: uppercase;
            margin-bottom: 8px;
        }
        .about-resume-facts {
            display: flex; flex-wrap: wrap; gap: 16px; margin-bottom: 10px;
            font-family: 'Courier New', monospace; font-size: 12px;
            color: rgba(255,255,255,.55); letter-spacing: 1px;
        }
        .about-resume-fact-lbl { color: rgba(255,140,51,.5); margin-right: 4px; }
        .about-resume-entry p { font-size: 15px; line-height: 1.75; color: rgba(255,255,255,.65); }
        .about-resume-skills { display: grid; grid-template-columns: 1fr 1fr; gap: 24px; margin-bottom: 8px; }
        .about-resume-skills-label {
            font-family: 'Courier New', monospace; font-size: 9px;
            letter-spacing: 2px; color: rgba(255,255,255,.55); text-transform: uppercase;
            margin-bottom: 10px;
        }
        .about-resume-skills ul { list-style: none; padding: 0; margin: 0; }
        .about-resume-skills li {
            font-size: 14px; color: rgba(255,255,255,.7);
            padding: 7px 0; border-bottom: 1px solid #1a1a1a;
        }
        .about-resume-list { list-style: none; padding: 0; margin: 0 0 8px; }
        .about-resume-list li {
            font-size: 14px; color: rgba(255,255,255,.65);
            padding: 10px 0; border-bottom: 1px solid #1a1a1a; line-height: 1.6;
        }
        @media (max-width: 860px) {
            .about-cards { grid-template-columns: 1fr; }
            .about-card { border-right: none; border-bottom: 1px solid #1a1a1a; }
            .about-card:last-child { border-bottom: none; }
            .about-resume-cols { grid-template-columns: 1fr; }
            .about-resume-col + .about-resume-col { border-left: none; border-top: 1px solid #1a1a1a; }
            .about-resume { margin: 24px 0 0; }
            .about-ch-head { padding: 24px 0; }
        }

        /* ── PROJECTS / WORK ───────────────────────────────────────── */
        /* proj-wrap removed — work page uses standard shop-wrap padding */

        /* filter tabs */
        .proj-filter {
            display: flex; gap: 4px; padding: 20px 0 0; flex-wrap: wrap;
        }
        .proj-filter-btn {
            height: 36px; padding: 0 16px; border-radius: 18px; border: none;
            background: transparent; font-family: var(--font);
            font-size: 13px; font-weight: 500;
            color: rgba(255,255,255,.35); cursor: pointer;
            transition: background .15s, color .15s;
        }
        .proj-filter-btn:hover  { background: #1a1a1a; color: #fff; }
        .proj-filter-btn.active { background: #fff; color: #000; }

        /* grid */
        .proj-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            padding-top: 20px;
        }
        .proj-card {
            position: relative; cursor: pointer;
            background: #111; border: 1px solid #1c1c1c;
            border-radius: 10px; overflow: hidden;
            transition: border-color .25s, box-shadow .25s;
        }
        .proj-card[hidden] { display: none; }
        .proj-card:hover {
            border-color: #333;
            box-shadow: 0 8px 32px rgba(0,0,0,.5);
        }
        .proj-card-img {
            position: relative; aspect-ratio: 4/3; overflow: hidden;
        }
        .proj-card-img img {
            width: 100%; height: 100%; object-fit: cover;
            display: block; transition: transform .55s ease;
        }
        .proj-card:hover .proj-card-img img { transform: scale(1.05); }
        .proj-card-scan {
            position: absolute; left: 0; right: 0; top: -35%; height: 35%;
            background: linear-gradient(to bottom, transparent, rgba(255,140,51,.07), transparent);
            z-index: 3; pointer-events: none;
        }
        .proj-card:hover .proj-card-scan { animation: scan-sweep .85s ease-in-out forwards; }
        .proj-card-info { padding: 10px 12px 14px; }
        .proj-card-spec {
            font-family: 'Courier New', monospace; font-size: 7px; letter-spacing: 2px;
            color: rgba(255,140,51,.6); text-transform: uppercase; margin-bottom: 4px;
        }
        .proj-card-name {
            font-size: 14px; font-weight: 600; color: rgba(255,255,255,.88);
            margin-bottom: 2px; letter-spacing: .1px;
        }
        .proj-card-year {
            font-family: 'Courier New', monospace; font-size: 9px;
            color: rgba(255,255,255,.25); letter-spacing: 1px;
        }
        .proj-card-braille-row {
            display: flex; justify-content: space-between; align-items: center;
            margin-top: 8px; padding-top: 8px; border-top: 1px solid #1a1a1a;
        }
        .proj-card-braille {
            font-family: 'Courier New', monospace; font-size: 9px;
            color: rgba(255,255,255,.08); letter-spacing: 1px;
            overflow: hidden; white-space: nowrap; max-width: 76%;
            transition: color .4s;
        }
        .proj-card:hover .proj-card-braille { color: rgba(255,140,51,.25); }
        .proj-card-idx {
            font-family: 'Courier New', monospace; font-size: 9px;
            color: rgba(255,255,255,.15); flex-shrink: 0;
        }
        @media (max-width: 900px) { .proj-grid { grid-template-columns: repeat(2, 1fr); } }
        @media (max-width: 560px) { .proj-grid { grid-template-columns: 1fr; gap: 10px; } }

        /* ── PROJECT DETAIL PAGE ───────────────────────────────────── */
        /* proj-detail-wrap uses standard shop-wrap padding */
        .proj-detail-back {
            display: inline-flex; align-items: center; gap: 8px;
            font-family: 'Courier New', monospace; font-size: 10px;
            letter-spacing: 2px; text-transform: uppercase;
            color: rgba(255,255,255,.55); background: none; border: none;
            cursor: pointer; padding: 28px 0; transition: color .2s;
        }
        .proj-detail-back:hover { color: var(--green); }
        .proj-detail-header {
            padding: 0 0 36px; border-bottom: 1px solid #1a1a1a;
            max-width: 100%; margin: 0;
        }
        .proj-detail-cat {
            font-family: 'Courier New', monospace; font-size: 10px;
            letter-spacing: 3px; color: rgba(255,140,51,.7); text-transform: uppercase;
            margin-bottom: 12px;
        }
        .proj-detail-title {
            font-size: clamp(36px, 7vw, 72px); font-weight: 800;
            color: #f0f0f0; letter-spacing: -2px; line-height: 1.02;
            margin-bottom: 28px;
        }
        .proj-detail-meta {
            display: flex; flex-wrap: wrap; gap: 0;
        }
        .proj-detail-meta-item {
            display: flex; flex-direction: column; gap: 5px;
            padding: 0 32px 0 0; margin-right: 32px;
            border-right: 1px solid #1a1a1a;
        }
        .proj-detail-meta-item:last-child { border-right: none; }
        .proj-detail-meta-label {
            font-family: 'Courier New', monospace; font-size: 8px;
            letter-spacing: 3px; color: rgba(255,140,51,.55); text-transform: uppercase;
        }
        .proj-detail-meta-value {
            font-size: 15px; font-weight: 500; color: rgba(255,255,255,.85);
        }
        .proj-detail-hero {
            width: 100%; overflow: hidden; aspect-ratio: 16/9;
            background: #0d0d0d; position: relative;
        }
        .proj-detail-hero img { width: 100%; height: 100%; object-fit: cover; display: block; }
        .proj-detail-body {
            max-width: 100%; margin: 0; padding: 48px 0 80px;
        }
        .proj-detail-desc {
            font-size: 19px; line-height: 1.85; color: rgba(255,255,255,.75);
            margin-bottom: 64px; max-width: 780px;
        }
        .proj-detail-sections { display: flex; flex-direction: column; }
        .proj-detail-section {
            display: flex; flex-direction: column; gap: 12px;
            padding: 32px 0; border-top: 1px solid #1a1a1a;
        }
        .proj-detail-section-hd {
            font-family: 'Courier New', monospace; font-size: 10px;
            letter-spacing: 3px; color: rgba(255,140,51,.7); text-transform: uppercase;
        }
        .proj-detail-section-body {
            font-size: 16px; line-height: 1.85; color: rgba(255,255,255,.7);
        }
        .proj-detail-gallery {
            display: grid; grid-template-columns: repeat(3, 1fr);
            gap: 8px; margin-top: 56px;
        }
        .proj-detail-gallery img {
            width: 100%; border-radius: 4px; display: block;
            aspect-ratio: 4/3; object-fit: cover;
            transition: opacity .3s, transform .3s;
        }
        .proj-detail-gallery img:hover { opacity: .85; transform: scale(1.01); cursor: zoom-in; }
        @media (max-width: 768px) {
            .proj-detail-header { padding: 0 0 28px; }
            .proj-detail-back { padding: 24px 0; }
            .proj-detail-hero { aspect-ratio: 4/3; }
            .proj-detail-body { padding: 32px 0 60px; }
            .proj-detail-section { gap: 10px; }
            .proj-detail-gallery { grid-template-columns: repeat(2, 1fr); gap: 6px; }
            .proj-detail-meta-item { padding: 0 20px 0 0; margin-right: 20px; }
        }
        @media (max-width: 480px) {
            .proj-detail-gallery { grid-template-columns: 1fr; }
        }

        /* ── SOLO PRODUCT VIEW ────────────────────────────────────── */
        .solo-view { display: flex; flex-direction: column; min-height: calc(100vh - var(--nav-h)); padding: 0 0 60px; }

        /* nav bar */
        .solo-nav-bar {
            display: flex; align-items: center; justify-content: space-between;
            padding: 16px 0; border-bottom: 1px solid #1a1a1a;
        }
        .solo-nav-center { display: flex; align-items: center; gap: 16px; }
        .solo-counter {
            font-family: 'Courier New', monospace; font-size: 10px;
            letter-spacing: 3px; color: rgba(255,255,255,.3); text-transform: uppercase;
        }
        .solo-live {
            display: flex; align-items: center; gap: 5px;
            font-family: 'Courier New', monospace; font-size: 8px;
            letter-spacing: 2px; color: rgba(255,255,255,.22); text-transform: uppercase;
        }
        .solo-live-dot {
            width: 5px; height: 5px; border-radius: 50%; background: var(--green);
            animation: live-pulse 2s ease-in-out infinite; flex-shrink: 0;
        }
        @keyframes live-pulse { 0%,100%{opacity:1;transform:scale(1)} 50%{opacity:.3;transform:scale(.7)} }

        .solo-arrow {
            width: 40px; height: 40px; border-radius: 20px;
            border: 1px solid #2a2a2a; background: transparent;
            color: rgba(255,255,255,.4); font-size: 16px; cursor: pointer;
            display: flex; align-items: center; justify-content: center;
            transition: border-color .2s, color .2s, background .2s; font-family: var(--font);
        }
        .solo-arrow:hover { border-color: var(--green); color: var(--green); background: rgba(255,140,51,.05); }

        /* dot rail */
        .solo-dot-rail {
            display: flex; justify-content: center; gap: 7px;
            padding: 14px 0; border-bottom: 1px solid #141414;
        }
        .solo-dot {
            width: 6px; height: 6px; border-radius: 50%;
            background: #252525; border: none; cursor: pointer;
            transition: background .25s, transform .25s; padding: 0;
            flex-shrink: 0;
        }
        .solo-dot.active { background: var(--green); transform: scale(1.5); }
        .solo-dot:hover:not(.active) { background: #444; }

        /* body grid */
        .solo-body {
            display: grid; grid-template-columns: 1fr 1fr; gap: 48px;
            padding: 36px 0; align-items: start;
        }
        @media (max-width: 700px) { .solo-body { grid-template-columns: 1fr; gap: 28px; padding: 28px 0; } }

        /* image column */
        .solo-img-col { display: flex; flex-direction: column; gap: 12px; position: sticky; top: calc(var(--nav-h) + 20px); }

        .solo-img-wrap {
            aspect-ratio: 1; background: #0d0d0d; border-radius: 20px;
            border: 1px solid #1a1a1a; overflow: hidden; position: relative;
            transition: border-color .3s;
        }
        .solo-img-wrap:hover { border-color: rgba(255,140,51,.3); }

        /* 4-corner bracket marks */
        .solo-img-wrap::after {
            content: '';
            position: absolute; inset: 12px; z-index: 4; pointer-events: none;
            background:
                linear-gradient(to right,  rgba(255,140,51,.55) 1px, transparent 1px) 0   0   / 20px 1px no-repeat,
                linear-gradient(to bottom, rgba(255,140,51,.55) 1px, transparent 1px) 0   0   / 1px 20px no-repeat,
                linear-gradient(to left,   rgba(255,140,51,.55) 1px, transparent 1px) 100% 0   / 20px 1px no-repeat,
                linear-gradient(to bottom, rgba(255,140,51,.55) 1px, transparent 1px) 100% 0   / 1px 20px no-repeat,
                linear-gradient(to right,  rgba(255,140,51,.55) 1px, transparent 1px) 0   100% / 20px 1px no-repeat,
                linear-gradient(to top,    rgba(255,140,51,.55) 1px, transparent 1px) 0   100% / 1px 20px no-repeat,
                linear-gradient(to left,   rgba(255,140,51,.55) 1px, transparent 1px) 100% 100% / 20px 1px no-repeat,
                linear-gradient(to top,    rgba(255,140,51,.55) 1px, transparent 1px) 100% 100% / 1px 20px no-repeat;
            opacity: 0; transition: opacity .3s;
        }
        .solo-img-wrap:hover::after { opacity: 1; }

        /* subtle grid overlay on hover */
        .solo-img-wrap::before {
            content: ''; position: absolute; inset: 0; z-index: 3; pointer-events: none;
            background-image:
                linear-gradient(rgba(255,140,51,.025) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255,140,51,.025) 1px, transparent 1px);
            background-size: 44px 44px;
            opacity: 0; transition: opacity .4s;
        }
        .solo-img-wrap:hover::before { opacity: 1; }

        .solo-img-wrap img {
            width: 100%; height: 100%; object-fit: contain; padding: 8%;
            filter: drop-shadow(0 4px 24px rgba(0,0,0,.8));
            transition: transform .6s cubic-bezier(.34,1.56,.64,1);
        }
        .solo-img-wrap:hover img { transform: scale(1.03); }

        /* scan-flash when switching */
        @keyframes solo-flash {
            0%   { opacity:1 }
            30%  { opacity:.15; filter:brightness(3) saturate(0); }
            60%  { opacity:.8; }
            100% { opacity:1; filter:none; }
        }
        .solo-img-wrap.flashing img { animation: solo-flash .35s ease; }

        /* thumbs */
        .solo-thumbs { display: flex; gap: 8px; flex-wrap: wrap; }
        .solo-thumb {
            width: 56px; height: 56px; border-radius: 10px; border: 1px solid #1e1e1e;
            background: #111; cursor: pointer; overflow: hidden; padding: 6px;
            transition: border-color .2s;
        }
        .solo-thumb.active { border-color: var(--green); }
        .solo-thumb img { width: 100%; height: 100%; object-fit: contain; }

        /* info column */
        .solo-info-col { display: flex; flex-direction: column; gap: 18px; padding-top: 8px; }
        @keyframes solo-info-in { from{opacity:0;transform:translateY(6px)} to{opacity:1;transform:translateY(0)} }
        .solo-info-col.entering { animation: solo-info-in .22s ease; }

        .solo-catalog-ref {
            font-family: 'Courier New', monospace; font-size: 8px;
            letter-spacing: 2.5px; color: rgba(255,255,255,.18); text-transform: uppercase;
        }
        .solo-spec {
            font-family: 'Courier New', monospace; font-size: 8px;
            letter-spacing: 3px; color: rgba(255,140,51,.7); text-transform: uppercase;
        }
        .solo-name { font-size: 28px; font-weight: 700; color: #f0f0f0; letter-spacing: -0.5px; line-height: 1.15; }
        .solo-price { font-family: 'Courier New', monospace; font-size: 22px; color: var(--green); letter-spacing: 1px; }
        .solo-desc { font-size: 14px; line-height: 1.65; color: rgba(255,255,255,.45); }

        /* data readout */
        .solo-data-strip {
            display: flex; gap: 0; border: 1px solid #1e1e1e; border-radius: 8px; overflow: hidden;
        }
        .solo-data-cell {
            flex: 1; padding: 8px 12px; border-right: 1px solid #1e1e1e;
            display: flex; flex-direction: column; gap: 3px;
        }
        .solo-data-cell:last-child { border-right: none; }
        .solo-data-label { font-family: 'Courier New', monospace; font-size: 7px; letter-spacing: 2px; color: rgba(255,255,255,.25); text-transform: uppercase; }
        .solo-data-value { font-family: 'Courier New', monospace; font-size: 11px; color: rgba(255,255,255,.6); letter-spacing: 1px; }

        .solo-size-label {
            font-family: 'Courier New', monospace; font-size: 8px;
            letter-spacing: 2px; color: rgba(255,255,255,.35); text-transform: uppercase;
        }
        .solo-sizes { display: flex; gap: 8px; flex-wrap: wrap; }
        .solo-sizes.shake { animation: shake .4s ease; }

        .solo-add-btn {
            height: 50px; border-radius: 25px; border: none;
            background: var(--green); color: #000;
            font-family: var(--font); font-size: 15px; font-weight: 700;
            cursor: pointer; transition: opacity .2s, transform .1s; width: 100%;
        }
        .solo-add-btn:hover { opacity: .88; transform: translateY(-1px); }
        .solo-add-btn:active { transform: translateY(0); }

        .solo-braille-row {
            display: flex; justify-content: space-between; align-items: center;
            padding-top: 16px; border-top: 1px solid #1a1a1a; margin-top: 4px;
        }
        .solo-braille {
            font-family: 'Courier New', monospace; font-size: 11px;
            color: rgba(255,255,255,.1); letter-spacing: 1px;
            overflow: hidden; white-space: nowrap; max-width: 76%; transition: color .4s;
        }
        .solo-braille:hover { color: rgba(255,140,51,.3); }
        .solo-idx { font-family: 'Courier New', monospace; font-size: 10px; color: rgba(255,255,255,.18); }

        /* ── CONTACT ──────────────────────────────────────────────── */
        .contact-wrap {
            max-width: 480px;
            margin: 0 auto;
            padding: 36px 20px 80px;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
        }
        .contact-hd-tag {
            font-family: 'Courier New', monospace; font-size: 9px; letter-spacing: 3px;
            color: var(--green); text-transform: uppercase; display: block; margin-bottom: 10px;
        }
        .contact-wrap h2 {
            font-size: 28px;
            font-weight: 300;
            letter-spacing: -0.5px;
            margin-bottom: 36px;
        }
        .contact-form { display: flex; flex-direction: column; gap: 26px; }
        .form-field-label {
            font-family: 'Courier New', monospace; font-size: 8px; letter-spacing: 2px;
            color: var(--muted); text-transform: uppercase; display: block; margin-bottom: 6px;
        }
        .form-field input,
        .form-field textarea {
            width: 100%;
            padding: 10px 0;
            background: transparent;
            border: none;
            border-bottom: 1px solid #222;
            font-size: 15px;
            font-family: var(--font);
            color: var(--black);
            outline: none;
            transition: border-color .2s;
            -webkit-appearance: none;
        }
        .form-field input:focus,
        .form-field textarea:focus { border-bottom-color: var(--green); }
        .form-field input::placeholder,
        .form-field textarea::placeholder { color: #444; }
        .form-field textarea { resize: none; min-height: 100px; }

        .submit-btn {
            align-self: flex-start;
            height: 40px;
            padding: 0 22px;
            background: var(--green);
            color: #000;
            border: none;
            border-radius: 20px;
            font-size: 15px;
            font-weight: 500;
            font-family: var(--font);
            cursor: pointer;
            transition: opacity .15s;
            margin-top: 4px;
        }
        .submit-btn:hover { opacity: .8; }


        /* ── TOAST ────────────────────────────────────────────────── */
        .toast-area {
            position: fixed;
            top: 86px; right: 18px;
            z-index: 6000;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        .toast {
            background: var(--green);
            color: #fff;
            padding: 13px 18px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            gap: 9px;
            font-size: 14px;
            font-weight: 600;
            min-width: 200px;
            box-shadow: 0 8px 28px rgba(255,140,51,.35);
            animation: toastIn .3s cubic-bezier(.34,1.56,.64,1);
        }
        .toast.out { animation: toastOut .25s ease forwards; }
        @keyframes toastIn  { from{opacity:0;transform:translateX(50px)} to{opacity:1;transform:translateX(0)} }
        @keyframes toastOut { to  {opacity:0;transform:translateX(50px)} }

        /* ── BACK TO TOP ──────────────────────────────────────────── */
        .back-top {
            position: fixed;
            bottom: 28px; right: 28px;
            width: 46px; height: 46px;
            background: #fff;
            border: 1px solid var(--g2);
            border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            box-shadow: 0 4px 16px rgba(0,0,0,.1);
            opacity: 0; visibility: hidden;
            transform: translateY(10px);
            transition: all .3s cubic-bezier(.34,1.56,.64,1);
            z-index: 900;
            color: var(--black);
        }
        .back-top.show { opacity: 1; visibility: visible; transform: translateY(0); }
        .back-top:hover { background: var(--green); color: #000; transform: translateY(-4px); }

        @media (max-width: 768px) { .back-top { bottom: 18px; right: 18px; } }

        /* ── LOADER ──────────────────────────────────────────────── */
        .loader {
            position: fixed; inset: 0;
            background: #000;
            z-index: 99999;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Courier New', Courier, monospace;
            color: #fff;
            transition: opacity .8s ease, visibility .8s ease;
        }
        .loader.done { opacity: 0; visibility: hidden; pointer-events: none; }

        .ldr-inner { width: min(480px, 88vw); }

        .ldr-brand {
            font-size: 10px;
            letter-spacing: 4px;
            color: rgba(255,255,255,.3);
            margin-bottom: 40px;
            text-transform: uppercase;
        }

        .ldr-divider {
            height: 1px;
            background: rgba(255,255,255,.1);
            margin-bottom: 32px;
        }

        .ldr-lines {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-bottom: 44px;
        }
        .ldr-line {
            font-size: 10px;
            letter-spacing: 2px;
            color: rgba(255,255,255,.35);
            display: flex;
            gap: 10px;
            opacity: 0;
            transition: opacity .5s ease;
        }
        .ldr-line.show { opacity: 1; }
        .ldr-prompt { color: #FF8C33; }

        .ldr-counter-row {
            display: flex;
            justify-content: space-between;
            align-items: baseline;
            margin-bottom: 10px;
        }
        .ldr-status-txt {
            font-size: 9px;
            letter-spacing: 2.5px;
            color: rgba(255,255,255,.35);
        }
        .ldr-count-num {
            font-size: 52px;
            font-weight: 700;
            letter-spacing: -3px;
            line-height: 1;
            color: #fff;
            font-variant-numeric: tabular-nums;
        }
        .ldr-pct { font-size: 18px; color: rgba(255,255,255,.35); }

        .ldr-track {
            height: 1px;
            background: rgba(255,255,255,.08);
            position: relative;
            overflow: visible;
        }
        .ldr-fill {
            position: absolute;
            top: 0; left: 0;
            height: 100%;
            width: 0%;
            background: #fff;
            transition: width .12s ease-out;
        }
        .ldr-bottom {
            display: flex;
            justify-content: space-between;
            margin-top: 18px;
            font-size: 8px;
            letter-spacing: 2px;
            color: rgba(255,255,255,.18);
            text-transform: uppercase;
        }

        /* ── HERO / RAVISAUCE LAB ────────────────────────────────── */
        .hero {
            position: relative;
            height: 100vh;
            height: 100svh;
            margin-top: calc(-1 * (var(--nav-h) + 4px));
            margin-left: -18px;
            margin-right: -18px;
            overflow: hidden;
            background: #060606;
            background-image: radial-gradient(circle, rgba(255,255,255,.032) 1px, transparent 1px);
            background-size: 28px 28px;
            font-family: 'Courier New', Courier, monospace;
        }

        /* ── PANELS ── */
        .hud-panel {
            position: absolute;
            overflow: hidden;
            background: #0c0c0c;
            border: 1px solid rgba(255,255,255,.09);
            border-radius: var(--r);
            box-shadow: 0 0 0 1px rgba(255,255,255,.04), 0 24px 64px rgba(0,0,0,.75);
            opacity: 0;
            transform: scale(0.96);
            transition: opacity 0.85s ease, transform 0.85s ease;
        }
        .hud-panel.panel-in {
            opacity: 1;
            transform: scale(1);
        }
        /* Panel positions set by JS on desktop */

        /* ── PANEL VIDEOS ── */
        .hud-vid {
            position: absolute;
            top: -5%; left: -5%;
            width: 110%; height: 110%;
            object-fit: cover;
            opacity: 0;
            transition: opacity 1.6s ease;
        }
        .hud-vid.playing { opacity: 1; }
        .hud-vid-main { object-position: 50% 40%; }
        .hud-vid-pa   { object-position: 20% 30%; }
        .hud-vid-pb   { object-position: 70% 20%; }
        .hud-vid-pc   { object-position: 80% 65%; }
        .hud-vid-pd   { object-position: 35% 75%; }
        .hud-pg       { aspect-ratio: 1244/1664; }
        .hud-vid-pg   { object-fit: cover; }

        /* ── SCAN LINE (moves top → bottom, different timing per panel) ── */
        @keyframes scan {
            0%   { top: -2px; opacity: 0; }
            4%   { opacity: 1; }
            96%  { opacity: .5; }
            100% { top: 100%; opacity: 0; }
        }
        .scan-line {
            position: absolute;
            left: 0; right: 0; top: 0;
            height: 1px;
            background: linear-gradient(to right, transparent 0%, rgba(255,140,51,.2) 50%, transparent 100%);
            animation: scan 7s linear infinite;
            pointer-events: none;
            z-index: 6;
        }
        .hud-pa   .scan-line { animation-delay:  0s;    }
        .hud-pb   .scan-line { animation-delay: -1.4s;  }
        .hud-pc   .scan-line { animation-delay: -3.5s;  }
        .hud-pd   .scan-line { animation-delay: -5.1s;  }
        .hud-pe   .scan-line { animation-delay: -4.2s;  }
        .hud-pf   .scan-line { animation-delay: -6.3s;  }
        .hud-pg   .scan-line { animation-delay: -2.7s;  }
        .hud-main .scan-line { animation-delay: -2.6s;  }

        /* ── PANEL UI LAYER (corners, label, specimen tag) ── */
        .panel-ui {
            position: absolute; inset: 0;
            pointer-events: none; z-index: 7;
        }
        .p-corner { display: none; }
        .hud-spec { display: none; }
        .panel-label {
            position: absolute;
            bottom: 0; left: 0; right: 0;
            height: 28px;
            background: rgba(0,0,0,.65);
            backdrop-filter: blur(8px);
            border-top: 1px solid rgba(255,255,255,.06);
            display: flex; align-items: center;
            padding: 0 9px; gap: 7px;
        }
        .pl-dot {
            width: 5px; height: 5px;
            background: var(--green); border-radius: 50%;
            animation: pulse 1.8s ease-in-out infinite;
            flex-shrink: 0;
        }
        .pl-id   { font-size: 7px; letter-spacing: 2px; color: rgba(255,255,255,.4); }
        .pl-time { margin-left: auto; font-size: 7px; letter-spacing: 1px; color: rgba(255,255,255,.22); }

        /* ── SCREEN CORNER COORDS ── */
        .hud-corner    { display: none; }
        .hud-circle {
            width: 12px; height: 12px;
            border: 1px solid rgba(255,255,255,.22); border-radius: 50%; flex-shrink: 0;
        }
        .hud-xbox {
            width: 12px; height: 12px;
            border: 1px solid rgba(255,255,255,.22);
            position: relative; flex-shrink: 0;
        }
        .hud-xbox::before, .hud-xbox::after {
            content: ''; position: absolute; top: 50%; left: 50%;
            width: 6px; height: 1px; background: rgba(255,255,255,.28);
        }
        .hud-xbox::before { transform: translate(-50%,-50%) rotate(45deg); }
        .hud-xbox::after  { transform: translate(-50%,-50%) rotate(-45deg); }

        /* ── METADATA TEXT ── */
        .hud-meta { display: none; }

        /* ── SIDEBAR ── */
        .hud-sidebar {
            position: absolute; left: 2%; bottom: 12vh;
            font-size: 7.5px; letter-spacing: 1.5px; line-height: 2.1;
            color: rgba(255,255,255,.2);
            pointer-events: none; z-index: 0;
        }
        .hud-sidebar-sep { opacity: .2; }

        /* ── AMBIENT LAB TEXT ── */
        .hud-ambient {
            position: absolute;
            font-family: 'Courier New', Courier, monospace;
            font-size: 7px; letter-spacing: 1.5px; line-height: 2;
            color: rgba(255,255,255,.15);
            pointer-events: none; z-index: 0;
            text-transform: uppercase;
        }
        .hud-amb-g   { color: rgba(255,140,51,.30); }
        .hud-amb-sep { opacity: .25; display: block; margin: 2px 0; }
        /* Left-side only — both start below the nav bar */
        .hud-amb-tl  { top: calc(var(--nav-h) + 10px); left: 2%; }
        .hud-amb-ml  { top: 50%; left: 2%; transform: translateY(-50%); }

        /* ── STORY BACKGROUND TEXT ── */
        .hud-story {
            position: absolute;
            top: calc(var(--nav-h) + 6px);
            left: 0; right: 0;
            bottom: 8vh;
            overflow: hidden;
            font-family: 'Courier New', Courier, monospace;
            font-size: 6.5px;
            letter-spacing: 1.2px;
            line-height: 2.2;
            color: rgba(255,255,255,.052);
            pointer-events: none;
            z-index: 0;
            text-transform: uppercase;
            padding: 0 1.5%;
            column-count: 4;
            column-gap: 1.5%;
        }

        /* ── CORNER X DECO ── */
        .hud-x-deco {
            position: absolute; width: 16px; height: 16px;
            border: 1px solid rgba(255,255,255,.1);
            display: flex; align-items: center; justify-content: center;
            font-size: 7px; color: rgba(255,255,255,.14);
            pointer-events: none; z-index: 0;
        }
        .hud-x-bl { left: 2%;  bottom: calc(7vh + 3px); }
        .hud-x-br { right: 3%; bottom: calc(7vh + 3px); }

        /* ── BOTTOM STATUS BAR ── */
        .hud-bar {
            position: absolute; bottom: 0; left: 0; right: 0;
            height: 7vh; max-height: 52px; min-height: 38px;
            display: flex; align-items: center;
            border-top: 1px solid rgba(255,255,255,.07);
            font-size: 8.5px; letter-spacing: 2px; overflow: hidden;
            background: rgba(4,4,4,.9); backdrop-filter: blur(12px);
            z-index: 10;
        }
        .hud-bar-seg {
            height: 100%; display: flex; align-items: center;
            padding: 0 18px; border-right: 1px solid rgba(255,255,255,.06);
            white-space: nowrap; color: rgba(255,255,255,.35);
        }
        .hud-bar-path    { color: rgba(255,255,255,.25); }
        .hud-bar-plus    { color: rgba(255,255,255,.14); padding: 0 10px; }
        .hud-bar-project { color: rgba(255,255,255,.62); flex: 1; letter-spacing: 2.5px; }
        .hud-bar-tags    { color: rgba(255,255,255,.2); }
        .hud-bar-next    { color: rgba(255,255,255,.35); }
        .hud-bar-count   { color: rgba(255,255,255,.22); border-right: none; }
        .hud-plus        { display: none; }

        /* ── DESKTOP DRAG HINT ── */
        @media (hover: hover) and (min-width: 901px) {
            .hud-panel { cursor: grab; }
            .hud-panel.panel-in { transition: box-shadow .2s; }
            .hud-panel.dragging { cursor: grabbing; box-shadow: 0 0 0 2px rgba(255,255,255,.2), 0 32px 80px rgba(0,0,0,.9); transition: none; }
        }

        /* ── RESIZE HANDLES — invisible hit areas, cursor only ── */
        .resize-handle {
            position: absolute; width: 20px; height: 20px;
            z-index: 9; background: transparent;
        }
        .resize-handle[data-dir="se"] { bottom: 0; right: 0; cursor: se-resize; }
        .resize-handle[data-dir="sw"] { bottom: 0; left:  0; cursor: sw-resize; }
        .resize-handle[data-dir="ne"] { top:    0; right: 0; cursor: ne-resize; }
        .resize-handle[data-dir="nw"] { top:    0; left:  0; cursor: nw-resize; }

        /* ── MOBILE ── */
        @media (max-width: 900px) {
            /* Hide desktop-only panels + text overlays */
            .hud-pc, .hud-pd, .hud-pe, .hud-pf, .hud-pg,
            .hud-sidebar, .hud-x-bl, .hud-x-br,
            .hud-ambient, .hud-story { display: none; }

            /* CSS-positioned panels — JS skips place() on mobile */
            .hud-main {
                top: calc(var(--nav-h) + 6px);
                left: 6%; width: 82%; height: 63%;
                z-index: 1;
            }
            .hud-pa {
                top: calc(var(--nav-h) + 22px);
                left: 4%; width: 46%; height: 37%;
                z-index: 4;
            }
            .hud-pb {
                top: 53%; left: 49%;
                width: 45%; height: 33%;
                z-index: 4;
            }
        }
        @media (max-width: 600px) {
            .hud-bar-tags, .hud-bar-count { display: none; }
            .hud-bar-seg { font-size: 7px; padding: 0 10px; letter-spacing: 1px; }
        }

        /* ── HEADER OVER DARK HERO ─────────────────────────────── */
        .header.hero-mode {
            background: transparent !important;
            border-bottom-color: transparent !important;
            box-shadow: none !important;
        }
        .header.hero-mode .logo img       { filter: brightness(0) invert(1) !important; }
        .header.hero-mode .nav-tab        { color: rgba(255,255,255,.55); }
        .header.hero-mode .nav-tab:hover  { background: rgba(255,255,255,.1); color: #fff; }
        .header.hero-mode .nav-tab.active { background: rgba(255,255,255,.18); color: #fff; }
        .header.hero-mode .h-line         { background: #fff; }

        /* ── SCROLLED: logo turns orange ──────────────────────── */
        .header.scrolled .logo img {
            filter: brightness(0) saturate(100%) invert(62%) sepia(97%) saturate(1000%) hue-rotate(346deg) brightness(101%) contrast(101%);
        }

        /* ══════════════════════════════════════════════════════
           DARK MODE — entire site
        ══════════════════════════════════════════════════════ */
        body             { background: #0a0a0a; color: #d0d0d0; }

        .header          { background: #0a0a0a; border-bottom-color: #1c1c1c; }
        /* scrolled glass already handled above */

        .nav-tab          { color: #888; }
        .nav-tab:hover    { background: #1a1a1a; color: #d0d0d0; }
        .nav-tab.active   { background: #d0d0d0; color: #0a0a0a; }

        .h-line           { background: #d0d0d0; }

        .pin {
            background: linear-gradient(90deg, #181818 25%, #212121 50%, #181818 75%);
            background-size: 200% 100%;
        }
        .pin.loaded { background: none; animation: none; }

        .coming-soon h1 { color: #d0d0d0; }
        .coming-soon p  { color: #888; }
        .cs-bar-wrap    { background: #1a1a1a; }
        .cs-hint        { color: #555; }

        /* shop is always light — no dark overrides needed */

        .contact-wrap h2 { color: #d0d0d0; }
        .form-field-label { color: #999; }
        .form-field input, .form-field textarea { color: #d0d0d0; border-bottom-color: #2a2a2a; }
        .form-field input:focus, .form-field textarea:focus { border-bottom-color: var(--green); }
        .form-field input::placeholder, .form-field textarea::placeholder { color: #444; }
        .submit-btn       { background: var(--green); color: #000; }
        .submit-btn:hover { filter: brightness(1.12); box-shadow: 0 0 0 2px rgba(255,140,51,.35); opacity: 1; }

        .saved-empty-mono { color: #666; }
        .saved-empty p    { color: #888; }
        .browse-link      { background: var(--green); color: #000; }
        .browse-link:hover { filter: brightness(1.12); box-shadow: 0 0 0 2px rgba(255,140,51,.35); opacity: 1; }

        .back-top         { background: #111; border-color: #222; color: #d0d0d0; }
        .back-top:hover   { background: var(--green); color: #000; }
    </style>
</head>
<body>

<!-- LOADER -->
<div id="loader" class="loader">
    <div class="ldr-inner">
        <div class="ldr-brand">NICO MAGGIOLI</div>
        <div class="ldr-divider"></div>
        <div class="ldr-lines">
            <div class="ldr-line" id="ldr-l1"><span class="ldr-prompt">›</span><span>SYSTEM BOOT INITIATED</span></div>
            <div class="ldr-line" id="ldr-l2"><span class="ldr-prompt">›</span><span>LOADING CREATIVE ASSETS</span></div>
            <div class="ldr-line" id="ldr-l3"><span class="ldr-prompt">›</span><span>MOUNTING INTERFACE</span></div>
        </div>
        <div class="ldr-counter-row">
            <span class="ldr-status-txt" id="ldr-status">INITIALIZING</span>
            <div><span class="ldr-count-num" id="ldr-count">000</span><span class="ldr-pct">%</span></div>
        </div>
        <div class="ldr-track"><div class="ldr-fill" id="ldr-fill"></div></div>
        <div class="ldr-bottom">
            <span>RS — LABS</span>
            <span id="ldr-date"></span>
        </div>
    </div>
</div>

<!-- HEADER -->
<header class="header" id="header">
    <div class="logo-wrap">
        <button class="logo" onclick="showPage('home')" aria-label="Home">
            <img src="favicon.png" alt="Nico Maggioli">
        </button>
    </div>

    <nav class="nav-tabs">
        <button class="nav-tab active" data-page="home"    onclick="showPage('home')">Home</button>
        <button class="nav-tab"        data-page="about"   onclick="showPage('about')">About</button>
        <button class="nav-tab"        data-page="saved"   onclick="showPage('saved')">Saved</button>
        <button class="nav-tab"        data-page="work"    onclick="showPage('work')">Work</button>
        <button class="nav-tab"        data-page="contact" onclick="showPage('contact')">Contact</button>
    </nav>

    <button class="mobile-toggle" id="mob-toggle" onclick="openMobileMenu()" aria-label="Menu">
        <span class="h-line"></span>
        <span class="h-line"></span>
        <span class="h-line"></span>
    </button>
</header>

<!-- MOBILE MENU -->
<div class="mob-menu" id="mob-menu">
    <div class="mob-head">
        <span class="mob-id">NM — ACCESS</span>
        <button class="mob-close" onclick="closeMobileMenu()" aria-label="Close">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round">
                <line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/>
            </svg>
        </button>
    </div>
    <div class="mob-items">
        <button class="mob-item" data-page="home"    onclick="mobileNav('home')">   <span class="mob-num">01</span><span class="mob-label">HOME</span></button>
        <button class="mob-item" data-page="about"   onclick="mobileNav('about')">  <span class="mob-num">02</span><span class="mob-label">ABOUT</span></button>
        <button class="mob-item" data-page="saved"   onclick="mobileNav('saved')">  <span class="mob-num">03</span><span class="mob-label">SAVED</span></button>
        <button class="mob-item" data-page="work"    onclick="mobileNav('work')">   <span class="mob-num">04</span><span class="mob-label">WORK</span></button>
        <button class="mob-item" data-page="contact" onclick="mobileNav('contact')"><span class="mob-num">05</span><span class="mob-label">CONTACT</span></button>
    </div>
    <div class="mob-foot">
        <div class="mob-status"><span class="status-dot"></span><span>SYSTEM ONLINE</span></div>
        <span style="font-size:10px;color:#444;font-family:'Courier New',monospace;">THE MOON</span>
    </div>
</div>
<div class="mob-backdrop" id="mob-backdrop" onclick="closeMobileMenu()"></div>

<!-- MAIN -->
<main class="main">

    <!-- HOME -->
    <div id="home-page" class="page active">

        <!-- RAVISAUCE LAB — HERO -->
        <div class="hero" id="hero-section">

            <!-- ── PANEL PA ── -->
            <div class="hud-panel hud-pa">
                <video autoplay muted loop playsinline preload="metadata" class="hud-vid hud-vid-pa">
                    <source src="videos/NEW/Clean%20Camera%20Movement.MP4?feed=a" type="video/mp4">
                </video>
                <div class="panel-ui">
                    <div class="panel-label">
                        <span class="pl-dot"></span>
                        <span class="pl-id">CAM—A</span>
                    </div>
                </div>
            </div>

            <!-- ── PANEL PB ── -->
            <div class="hud-panel hud-pb">
                <video autoplay muted loop playsinline preload="metadata" class="hud-vid hud-vid-pb">
                    <source src="videos/NEW/Volcano%20Video.MP4?feed=b" type="video/mp4">
                </video>
                <div class="panel-ui">
                    <div class="panel-label">
                        <span class="pl-dot"></span>
                        <span class="pl-id">CAM—B</span>
                    </div>
                </div>
            </div>

            <!-- ── PANEL PC ── -->
            <div class="hud-panel hud-pc">
                <video autoplay muted loop playsinline preload="metadata" class="hud-vid hud-vid-pc">
                    <source src="videos/NEW/Sleek%20Animation.MP4?feed=c" type="video/mp4">
                </video>
                <div class="panel-ui">
                    <div class="panel-label">
                        <span class="pl-dot"></span>
                        <span class="pl-id">CAM—C</span>
                    </div>
                </div>
            </div>

            <!-- ── PANEL PD ── -->
            <div class="hud-panel hud-pd">
                <video autoplay muted loop playsinline preload="metadata" class="hud-vid hud-vid-pd">
                    <source src="videos/NEW/SOMA.MP4?feed=d" type="video/mp4">
                </video>
                <div class="panel-ui">
                    <div class="panel-label">
                        <span class="pl-dot"></span>
                        <span class="pl-id">CAM—D</span>
                    </div>
                </div>
            </div>

            <!-- ── PANEL PE ── -->
            <div class="hud-panel hud-pe">
                <video autoplay muted loop playsinline preload="metadata" class="hud-vid hud-vid-pe">
                    <source src="videos/NEW/clash.MP4?feed=e" type="video/mp4">
                </video>
                <div class="panel-ui">
                    <div class="panel-label">
                        <span class="pl-dot"></span>
                        <span class="pl-id">CAM—E</span>
                    </div>
                </div>
            </div>

            <!-- ── PANEL PF ── -->
            <div class="hud-panel hud-pf">
                <video autoplay muted loop playsinline preload="metadata" class="hud-vid hud-vid-pf">
                    <source src="videos/NEW/Puffco%20ad.MP4?feed=f" type="video/mp4">
                </video>
                <div class="panel-ui">
                    <div class="panel-label">
                        <span class="pl-dot"></span>
                        <span class="pl-id">CAM—F</span>
                    </div>
                </div>
            </div>

            <!-- ── PANEL PG ── -->
            <div class="hud-panel hud-pg">
                <video autoplay muted loop playsinline preload="metadata" class="hud-vid hud-vid-pg">
                    <source src="videos/NEW/waves.MP4?feed=g" type="video/mp4">
                </video>
                <div class="panel-ui">
                    <div class="panel-label">
                        <span class="pl-dot"></span>
                        <span class="pl-id">CAM—G</span>
                    </div>
                </div>
            </div>

            <div class="hud-panel hud-main">
                <video class="hud-vid hud-vid-main" id="hero-video" autoplay muted loop playsinline preload="auto">
                    <source src="videos/NEW/Animation%20Reel.mp4" type="video/mp4">
                </video>
                <div class="panel-ui">
                    <div class="panel-label">
                        <span class="pl-dot"></span>
                        <span class="pl-id">CAM—MAIN / PRIMARY FEED</span>
                    </div>
                </div>
            </div>

            <!-- STORY BACKGROUND FILL TEXT -->
            <div class="hud-story">WE ARE WANDERING — DRIFTING THROUGH A UNIVERSE SO VAST AND INDIFFERENT THAT THE MIND CANNOT HOLD IT — AND YET HERE WE ARE — CONSCIOUS — AWAKE — ASKING QUESTIONS THAT HAVE NO CEILING — WHAT IS REALITY — IS THIS ALL THERE IS — OR IS THERE SOMETHING DEEPER BENEATH THE SURFACE OF EVERYTHING WE THINK WE KNOW — WE ARE FLOATING ON A ROCK — A WET SPINNING ROCK HURTLING THROUGH THE DARK AT THOUSANDS OF MILES PER HOUR — AND NOBODY TOLD US — AND SOMEHOW THAT IS BOTH TERRIFYING AND BEAUTIFUL — BECAUSE IT MEANS WE ARE FREE — FREE TO WONDER — FREE TO BUILD — FREE TO CREATE SOMETHING OUT OF NOTHING — THIS IS WHY RAVI SAUCE EXISTS — NOT BECAUSE THE WORLD NEEDED ANOTHER BRAND — BUT BECAUSE SOMETHING INSIDE WOULD NOT STAY QUIET — A VOICE THAT SAID LOOK CLOSER — TOUCH THE MATERIAL — FEEL THE WEIGHT OF IT — WHAT ARE WE MADE OF — CARBON AND MEMORY AND UNEXPLAINED LONGING — WE ARE STARDUST WEARING CLOTHES AND WONDERING WHAT COMES NEXT — CONSCIOUSNESS IS THE STRANGEST THING IN THE OBSERVABLE UNIVERSE — NOTHING ELSE KNOWS THAT IT EXISTS — NOTHING ELSE LOOKS UP AT THE NIGHT SKY AND FEELS SMALL — WE DO — AND THAT SMALLNESS IS WHERE EVERYTHING INTERESTING BEGINS — RAVI SAUCE IS AN EXPERIMENT — A LABORATORY OF FEELING — WHAT HAPPENS WHEN YOU TAKE THAT COSMIC UNCERTAINTY AND STITCH IT INTO FABRIC — WHEN YOU PRESS IT INTO MATERIAL — WHEN YOU MAKE IT WEARABLE — WHEN YOU MAKE IT REAL — THE FUTURE IS NOT A DESTINATION — IT IS A DIRECTION — AND WE ARE WALKING TOWARD IT — SLOWLY — CAREFULLY — WITH OUR HANDS FULL OF IDEAS AND OUR EYES OPEN WIDE — WHAT DOES IT MEAN TO BE ALIVE IN THIS CENTURY — TO HOLD A DEVICE THAT CONTAINS ALL OF HUMAN KNOWLEDGE — AND STILL NOT KNOW WHAT TO DO WITH A TUESDAY AFTERNOON — THERE IS A GAP BETWEEN INFORMATION AND MEANING — AND RAVI SAUCE LIVES IN THAT GAP — WE ARE NOT TRYING TO ANSWER THE BIG QUESTIONS — WE ARE TRYING TO MAKE SOMETHING WORTHY OF THEM — THE FIBONACCI SEQUENCE IS NOT JUST A NUMBER PATTERN — IT IS THE UNIVERSE SHOWING OFF — LOOK AT THE SHELL — LOOK AT THE SUNFLOWER — LOOK AT THE HURRICANE — THE SAME LOGIC EVERYWHERE — ORDER INSIDE THE CHAOS — BEAUTY INSIDE THE MATHEMATICS — WE SEE IT AND WE WANT TO TOUCH IT — WE WANT TO WEAR IT — BECAUSE TO WEAR SOMETHING IS TO CARRY IT — TO CARRY A PHILOSOPHY — TO CARRY A QUESTION — TO WALK THROUGH THE WORLD AS A MOVING ARGUMENT FOR CURIOSITY — WHAT IS TIME — A RIVER OR A ROOM — ARE WE MOVING THROUGH IT OR IS IT MOVING THROUGH US — NOBODY KNOWS — AND THAT NOT KNOWING IS THE MOST HUMAN THING THERE IS — THE UNIVERSE IS 13.8 BILLION YEARS OLD — THE EARTH IS 4.5 BILLION — HOMO SAPIENS HAVE BEEN HERE FOR 300,000 YEARS — WRITING EXISTS FOR 5,000 — EVERYTHING WE CALL CIVILIZATION IS AN EYEBLINK — A TREMBLING BRIEF IMPOSSIBLE MIRACLE — AND WE ARE IN IT RIGHT NOW — THIS MOMENT — THIS BREATH — THIS PIXEL — IS PART OF THAT MIRACLE — SO WE MAKE THINGS — BECAUSE MAKING THINGS IS HOW CONSCIOUSNESS TALKS TO THE VOID — IT SAYS I WAS HERE — I SAW THIS — I FELT SOMETHING — AND I TURNED IT INTO SOMETHING YOU COULD HOLD — RAVI SAUCE IS THAT TURNING — THAT TRANSLATION — THAT REFUSAL TO LET THE WONDER GO UNNAMED — WE EXPERIMENT BECAUSE THE ALTERNATIVE IS TO STOP ASKING — AND STOPPING ASKING IS THE ONLY REAL DEATH — THE MATERIALS WE WORK WITH ARE NOT JUST MATERIALS — THEY ARE PROXIES FOR TIME — FOR LABOR — FOR THE HUMAN HAND — FOR THE CHOICE TO MAKE RATHER THAN CONSUME — EVERY THREAD IS A DECISION — EVERY SEAM IS A COMMITMENT — EVERY PIECE IS A SMALL ACT OF DEFIANCE AGAINST A WORLD THAT WANTS YOU PASSIVE — WE ARE NOT PASSIVE — WE ARE AWAKE — WE ARE LOOKING — WE ARE ASKING — WHAT IS NEXT — WHAT IS POSSIBLE — WHAT HAVE WE NOT YET IMAGINED — THE ANSWER IS EVERYTHING — EVERYTHING IS STILL POSSIBLE — THE UNIVERSE HAS NOT FINISHED WITH US YET — AND WE HAVE NOT FINISHED WITH IT — /// WE ARE WANDERING — DRIFTING THROUGH A UNIVERSE SO VAST AND INDIFFERENT THAT THE MIND CANNOT HOLD IT — AND YET HERE WE ARE — CONSCIOUS — AWAKE — ASKING QUESTIONS THAT HAVE NO CEILING — WHAT IS REALITY — IS THIS ALL THERE IS — OR IS THERE SOMETHING DEEPER BENEATH THE SURFACE OF EVERYTHING WE THINK WE KNOW — WE ARE FLOATING ON A ROCK — A WET SPINNING ROCK HURTLING THROUGH THE DARK AT THOUSANDS OF MILES PER HOUR — AND NOBODY TOLD US — AND SOMEHOW THAT IS BOTH TERRIFYING AND BEAUTIFUL — BECAUSE IT MEANS WE ARE FREE — FREE TO WONDER — FREE TO BUILD — FREE TO CREATE SOMETHING OUT OF NOTHING — THIS IS WHY RAVI SAUCE EXISTS — NOT BECAUSE THE WORLD NEEDED ANOTHER BRAND — BUT BECAUSE SOMETHING INSIDE WOULD NOT STAY QUIET — A VOICE THAT SAID LOOK CLOSER — TOUCH THE MATERIAL — FEEL THE WEIGHT OF IT — WHAT ARE WE MADE OF — CARBON AND MEMORY AND UNEXPLAINED LONGING — WE ARE STARDUST WEARING CLOTHES AND WONDERING WHAT COMES NEXT — CONSCIOUSNESS IS THE STRANGEST THING IN THE OBSERVABLE UNIVERSE — NOTHING ELSE KNOWS THAT IT EXISTS — NOTHING ELSE LOOKS UP AT THE NIGHT SKY AND FEELS SMALL — WE DO — AND THAT SMALLNESS IS WHERE EVERYTHING INTERESTING BEGINS — RAVI SAUCE IS AN EXPERIMENT — A LABORATORY OF FEELING — WHAT HAPPENS WHEN YOU TAKE THAT COSMIC UNCERTAINTY AND STITCH IT INTO FABRIC — WHEN YOU PRESS IT INTO MATERIAL — WHEN YOU MAKE IT WEARABLE — WHEN YOU MAKE IT REAL — THE FUTURE IS NOT A DESTINATION — IT IS A DIRECTION — AND WE ARE WALKING TOWARD IT — SLOWLY — CAREFULLY — WITH OUR HANDS FULL OF IDEAS AND OUR EYES OPEN WIDE — WHAT DOES IT MEAN TO BE ALIVE IN THIS CENTURY — TO HOLD A DEVICE THAT CONTAINS ALL OF HUMAN KNOWLEDGE — AND STILL NOT KNOW WHAT TO DO WITH A TUESDAY AFTERNOON — THERE IS A GAP BETWEEN INFORMATION AND MEANING — AND RAVI SAUCE LIVES IN THAT GAP — WE ARE NOT TRYING TO ANSWER THE BIG QUESTIONS — WE ARE TRYING TO MAKE SOMETHING WORTHY OF THEM — THE FIBONACCI SEQUENCE IS NOT JUST A NUMBER PATTERN — IT IS THE UNIVERSE SHOWING OFF — LOOK AT THE SHELL — LOOK AT THE SUNFLOWER — LOOK AT THE HURRICANE — THE SAME LOGIC EVERYWHERE — ORDER INSIDE THE CHAOS — BEAUTY INSIDE THE MATHEMATICS — WE SEE IT AND WE WANT TO TOUCH IT — WE WANT TO WEAR IT — BECAUSE TO WEAR SOMETHING IS TO CARRY IT — TO CARRY A PHILOSOPHY — TO CARRY A QUESTION — TO WALK THROUGH THE WORLD AS A MOVING ARGUMENT FOR CURIOSITY — WHAT IS TIME — A RIVER OR A ROOM — ARE WE MOVING THROUGH IT OR IS IT MOVING THROUGH US — NOBODY KNOWS — AND THAT NOT KNOWING IS THE MOST HUMAN THING THERE IS — THE UNIVERSE IS 13.8 BILLION YEARS OLD — THE EARTH IS 4.5 BILLION — HOMO SAPIENS HAVE BEEN HERE FOR 300,000 YEARS — WRITING EXISTS FOR 5,000 — EVERYTHING WE CALL CIVILIZATION IS AN EYEBLINK — A TREMBLING BRIEF IMPOSSIBLE MIRACLE — AND WE ARE IN IT RIGHT NOW — THIS MOMENT — THIS BREATH — THIS PIXEL — IS PART OF THAT MIRACLE — SO WE MAKE THINGS — BECAUSE MAKING THINGS IS HOW CONSCIOUSNESS TALKS TO THE VOID — IT SAYS I WAS HERE — I SAW THIS — I FELT SOMETHING — AND I TURNED IT INTO SOMETHING YOU COULD HOLD — RAVI SAUCE IS THAT TURNING — THAT TRANSLATION — THAT REFUSAL TO LET THE WONDER GO UNNAMED — WE EXPERIMENT BECAUSE THE ALTERNATIVE IS TO STOP ASKING — AND STOPPING ASKING IS THE ONLY REAL DEATH — THE MATERIALS WE WORK WITH ARE NOT JUST MATERIALS — THEY ARE PROXIES FOR TIME — FOR LABOR — FOR THE HUMAN HAND — FOR THE CHOICE TO MAKE RATHER THAN CONSUME — EVERY THREAD IS A DECISION — EVERY SEAM IS A COMMITMENT — EVERY PIECE IS A SMALL ACT OF DEFIANCE AGAINST A WORLD THAT WANTS YOU PASSIVE — WE ARE NOT PASSIVE — WE ARE AWAKE — WE ARE LOOKING — WE ARE ASKING — WHAT IS NEXT — WHAT IS POSSIBLE — WHAT HAVE WE NOT YET IMAGINED — THE ANSWER IS EVERYTHING — EVERYTHING IS STILL POSSIBLE — THE UNIVERSE HAS NOT FINISHED WITH US YET — AND WE HAVE NOT FINISHED WITH IT —</div>

            <!-- AMBIENT LAB TEXT — left side only -->

            <!-- Top-left: identity -->
            <div class="hud-ambient hud-amb-tl">
                NICO MAGGIOLI STUDIO<br>
                <span class="hud-amb-sep">───────────────────</span>
                CURIOSITY &nbsp;: [INFINITE]<br>
                SIGNAL &nbsp;&nbsp;&nbsp;&nbsp;: NATURE + ART<br>
                EST &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: 2026 — EARTH
            </div>

            <!-- Mid-left: nature / fibonacci / philosophy -->
            <div class="hud-ambient hud-amb-ml">
                <span class="hud-amb-sep">— φ = 1.6180339887 —</span>
                GOLDEN RATIO<br>
                <br>
                FIBONACCI SEQUENCE<br>
                <span class="hud-amb-g">0, 1, 1, 2, 3, 5, 8, 13</span><br>
                <span class="hud-amb-g">21, 34, 55, 89 → ∞</span><br>
                <br>
                <span class="hud-amb-sep">— FOUND IN —</span>
                SHELLS &nbsp;/ GALAXIES<br>
                TREES &nbsp;&nbsp;/ DNA / YOU<br>
                <br>
                <span class="hud-amb-sep">———————————</span>
                WHAT EXISTS IS<br>
                <span class="hud-amb-g">WAITING TO BE NOTICED</span>
            </div>

            <!-- SCREEN CORNER COORDS -->
            <div class="hud-corner hud-corner-tl">
                <span>X:0166PX &nbsp;Y:0079PX</span>
                <div class="hud-circle"></div>
            </div>
            <div class="hud-corner hud-corner-tr">
                <div class="hud-xbox"></div>
                <span>X:0916PX &nbsp;Y:0077PX</span>
            </div>

            <!-- METADATA TEXT -->
            <div class="hud-meta">
                VIDEO ID / RSL 2026 / ANIMATION REEL / 5-CAM ARRAY<br>
                FRAMES 1920×1080 @ 30FPS / DROPPED 0 OF 4096<br>
                OPTIMAL RES 1920×1080@30 / 3840×2160@25<br>
                NORMALIZED 100% / LOUDNESS -25.9DB / CODEC H264
            </div>

            <!-- SIDEBAR -->
            <div class="hud-sidebar">
                <div>DATE &nbsp;: [2026.02.24]</div>
                <div>HOUR &nbsp;: [<span id="hud-clock">00:00:00</span>]</div>
                <div>FEEDS ACTIVE : [05/05]</div>
                <div class="hud-sidebar-sep">— — —</div>
                <div>DISPLAY &nbsp;: (1920×1080 @ 60HZ)</div>
                <div>LANGUAGE : [ENGLISH]</div>
            </div>

            <!-- CORNER X DECO -->
            <div class="hud-x-deco hud-x-bl">✕</div>
            <div class="hud-x-deco hud-x-br">✕</div>

            <!-- BOTTOM STATUS BAR -->
            <div class="hud-bar">
                <div class="hud-bar-seg hud-bar-path">C:\NICOMAGGIOL\HOME</div>
                <div class="hud-bar-seg hud-bar-plus">+</div>
                <div class="hud-bar-seg hud-bar-project">ANIMATION_REEL_2026</div>
                <div class="hud-bar-seg hud-bar-tags">PHOTOGRAPHY, MOTION, DESIGN</div>
                <div class="hud-bar-seg hud-bar-next">SCROLL &nbsp;↓</div>
                <div class="hud-bar-seg hud-bar-count">001/005</div>
            </div>

        </div>

        <div class="masonry-grid" id="home-grid"></div>
        <div class="braille-strip page-strip">
            <span class="braille-strip-inner" id="braille-strip-home"></span>
        </div>
    </div>

    <!-- SAVED -->
    <div id="saved-page" class="page">
        <div class="shop-hd" style="padding-left:24px;padding-right:24px;">
            <div class="shop-hd-left">
                <span class="shop-hd-label">NM // Saved</span>
            </div>
            <span class="shop-hd-count" id="saved-count"></span>
        </div>
        <div class="braille-strip page-strip" style="margin-bottom:12px;">
            <span class="braille-strip-inner" id="braille-strip-saved"></span>
        </div>
        <div class="masonry-grid" id="saved-grid"></div>
        <div class="saved-empty" id="saved-empty" style="display:none;">
            <div class="saved-empty-mono">— COLLECTION EMPTY —</div>
            <p>Tap Save on any image to start your&nbsp;collection.</p>
            <a href="#" class="browse-link" onclick="showPage('home');return false;">Browse Work</a>
        </div>
    </div>

    <!-- ABOUT -->
    <div id="about-page" class="page">
        <div class="shop-wrap">
            <div class="about-wrap">

                <!-- Channel header -->
                <div class="about-ch-head">
                    <div class="about-ch-kicker">NM // About</div>
                    <h1 class="about-ch-title">Nico Maggioli / About / Creative Systems Designer</h1>
                    <p class="about-ch-sub">Designer focused on creative strategy and 3D visualization for brands, products, and digital campaigns.</p>
                </div>

                <!-- Cards -->
                <div class="about-cards">
                    <div class="about-card about-card-profile">
                        <div class="about-card-label">Profile</div>
                        <p class="about-card-body">I build visual systems that connect strategy with execution — logos, packaging, websites, and immersive renders shaped into one coherent brand language.</p>
                        <div class="about-pill-row">
                            <span class="about-pill">Strategy + Design</span>
                            <span class="about-pill">3D Visualization</span>
                            <span class="about-pill">AI Workflow</span>
                        </div>
                    </div>

                    <div class="about-card">
                        <div class="about-card-label">Capabilities</div>
                        <div class="about-expand-list">
                            <details class="about-expand-item">
                                <summary>Creative strategy and brand direction</summary>
                                <p>I define positioning, audience priorities, and the message stack before visual production starts.</p>
                            </details>
                            <details class="about-expand-item">
                                <summary>Visual identity systems</summary>
                                <p>I build flexible logo, type, and color systems that scale across digital and physical touchpoints.</p>
                            </details>
                            <details class="about-expand-item">
                                <summary>Web and campaign design</summary>
                                <p>I translate the brand system into launch-ready pages and campaign assets with clear conversion structure.</p>
                            </details>
                            <details class="about-expand-item">
                                <summary>3D and image-based production</summary>
                                <p>I use 3D visualization and compositing to create polished, high-impact visual content for products and stories.</p>
                            </details>
                        </div>
                    </div>

                    <div class="about-card">
                        <div class="about-card-label">Workflow</div>
                        <div class="about-expand-list">
                            <details class="about-expand-item">
                                <summary>01 / Research and framing</summary>
                                <p>Kickoff, context review, and alignment on goals, audience, constraints, and expected outcomes.</p>
                            </details>
                            <details class="about-expand-item">
                                <summary>02 / Prototype and test</summary>
                                <p>Rapid concept rounds to test direction early and choose the strongest visual strategy.</p>
                            </details>
                            <details class="about-expand-item">
                                <summary>03 / Refine visual system</summary>
                                <p>Selected direction is expanded into a complete, consistent design system with production-ready details.</p>
                            </details>
                            <details class="about-expand-item">
                                <summary>04 / Deliver final assets</summary>
                                <p>Final files, implementation guidance, and handoff support so execution stays on-brand.</p>
                            </details>
                        </div>
                    </div>
                </div>

                <!-- Resume -->
                <div class="about-resume">
                    <div class="about-resume-head">
                        <div class="about-resume-kicker">Career Lab / Record</div>
                        <h2 class="about-resume-title">Experience and capability archive</h2>
                        <p class="about-resume-note">Structured profile readout with role history, tools, leadership tracks, and recognitions.</p>
                    </div>
                    <div class="about-resume-cols">
                        <!-- Left: Experience + Education -->
                        <div class="about-resume-col">
                            <div class="about-resume-section-label">Experience</div>

                            <div class="about-resume-entry">
                                <div class="about-resume-org">Sprout Studios</div>
                                <div class="about-resume-role">Visual Designer</div>
                                <div class="about-resume-facts">
                                    <span><span class="about-resume-fact-lbl">LOC</span>Boston, MA</span>
                                    <span><span class="about-resume-fact-lbl">TERM</span>June 2025 – Present</span>
                                </div>
                                <p>Pushing the boundaries of visual storytelling for brands like Staples, Kohler, and Whirlpool by creating meaningful graphics and experimenting with innovative AI-driven workflows.</p>
                            </div>

                            <div class="about-resume-entry">
                                <div class="about-resume-org">Nicom</div>
                                <div class="about-resume-role">Freelancer</div>
                                <div class="about-resume-facts">
                                    <span><span class="about-resume-fact-lbl">LOC</span>Boston, MA</span>
                                    <span><span class="about-resume-fact-lbl">TERM</span>May 2022 – Present</span>
                                </div>
                                <p>Extensive experience collaborating with 50+ clients across industries, focused on 3D animation, packaging, and brand development with fast, reliable delivery.</p>
                            </div>

                            <div class="about-resume-entry">
                                <div class="about-resume-org">Ravisauce</div>
                                <div class="about-resume-role">Founder &amp; Lead Designer</div>
                                <div class="about-resume-facts">
                                    <span><span class="about-resume-fact-lbl">LOC</span>Boston, MA</span>
                                    <span><span class="about-resume-fact-lbl">TERM</span>April 2015 – Present</span>
                                </div>
                                <p>Built and scaled a fingerboard/skatewear brand with customers in 17 countries, expanding distribution to retail and online channels.</p>
                            </div>

                            <div class="about-resume-entry">
                                <div class="about-resume-org">Zipped Magazine</div>
                                <div class="about-resume-role">Art Director</div>
                                <div class="about-resume-facts">
                                    <span><span class="about-resume-fact-lbl">LOC</span>Syracuse, NY</span>
                                    <span><span class="about-resume-fact-lbl">TERM</span>Aug 2023 – May 2024</span>
                                </div>
                                <p>Led a team of four in weekly editorial production, directing social, poster, and design assets for a culture-focused semester publication.</p>
                            </div>

                            <div class="about-resume-section-label" style="margin-top:32px;">Education</div>

                            <div class="about-resume-entry">
                                <div class="about-resume-org">Syracuse University</div>
                                <div class="about-resume-role">College of Visual and Performing Arts</div>
                                <p>BFA, Communications Design · Magna Cum Laude · May 2024</p>
                            </div>
                            <div class="about-resume-entry">
                                <div class="about-resume-org">Boston College High School</div>
                                <p>May 2020</p>
                            </div>
                        </div>

                        <!-- Right: Expertise + Leadership + Honors -->
                        <div class="about-resume-col">
                            <div class="about-resume-section-label">Expertise</div>
                            <div class="about-resume-skills">
                                <div>
                                    <div class="about-resume-skills-label">Creative</div>
                                    <ul>
                                        <li>Strategy</li>
                                        <li>Branding</li>
                                        <li>Packaging</li>
                                        <li>Editorial</li>
                                        <li>UI/UX</li>
                                        <li>Advertising</li>
                                        <li>3D Design</li>
                                    </ul>
                                </div>
                                <div>
                                    <div class="about-resume-skills-label">Technical</div>
                                    <ul>
                                        <li>Photoshop</li>
                                        <li>Illustrator</li>
                                        <li>InDesign</li>
                                        <li>Figma</li>
                                        <li>Framer</li>
                                        <li>Blender</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="about-resume-section-label" style="margin-top:32px;">Leadership</div>
                            <ul class="about-resume-list">
                                <li>Syracuse University Summer College Ambassador (2019)</li>
                                <li>Young Leaders Conference, Sheffield, England (2019)</li>
                                <li>YMCA Camp Counselor (CIT), Camp Coniston, Croydon NH (2011–2016)</li>
                            </ul>

                            <div class="about-resume-section-label" style="margin-top:32px;">Honors &amp; Awards</div>

                            <div class="about-resume-entry">
                                <div class="about-resume-org">Paul Leibovitz Award</div>
                                <p>Syracuse University (2024) — Presented to a senior demonstrating cutting-edge interactive design and emerging technology use.</p>
                            </div>
                            <div class="about-resume-entry">
                                <div class="about-resume-org">Impact Award</div>
                                <p>Babson College (2018) — Recognized for brand networking leadership and building community engagement around Ravisauce.</p>
                            </div>
                            <div class="about-resume-entry">
                                <div class="about-resume-org">Craftsmanship Recognition</div>
                                <p>Fingerboard TV (2017) — Featured internationally for craftsmanship in handmade fingerboard design.</p>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <!-- WORK / PROJECTS -->
    <div id="work-page" class="page">
        <div class="shop-wrap">
            <div class="shop-hd">
                <div class="shop-hd-left">
                    <span class="shop-hd-label">NM // Work</span>
                    <span class="shop-hd-title">Selected Work</span>
                </div>
                <span class="shop-hd-count" id="proj-count">— / —</span>
            </div>
            <!-- scrolling status strip -->
            <div class="shop-status" style="margin-top:12px;">
                <span class="shop-status-inner" id="work-status-inner"></span>
            </div>
            <div class="braille-strip shop-strip">
                <span class="braille-strip-inner" id="braille-strip-inner"></span>
            </div>
            <div class="proj-grid" id="proj-main"></div>
        </div>
    </div>

    <!-- PROJECT DETAIL -->
    <div id="project-page" class="page">
        <div class="shop-wrap proj-detail-wrap">
            <button class="proj-detail-back" onclick="showPage('work')">← WORK</button>
            <div id="proj-detail-content"></div>
        </div>
    </div>

    <!-- CONTACT -->
    <div id="contact-page" class="page">
        <div class="shop-hd" style="padding-left:24px;padding-right:24px;">
            <div class="shop-hd-left">
                <span class="shop-hd-label">NM // Contact</span>
            </div>
        </div>
        <div class="braille-strip page-strip" style="margin-bottom:0;">
            <span class="braille-strip-inner" id="braille-strip-contact"></span>
        </div>
        <div class="contact-wrap">
            <div>
                <h2>Get in touch.</h2>
            </div>
            <form class="contact-form" onsubmit="handleContact(event)">
                <div class="form-field">
                    <label class="form-field-label">NAME //</label>
                    <input type="text" required autocomplete="name">
                </div>
                <div class="form-field">
                    <label class="form-field-label">EMAIL //</label>
                    <input type="email" required autocomplete="email">
                </div>
                <div class="form-field">
                    <label class="form-field-label">MESSAGE //</label>
                    <textarea rows="5" required></textarea>
                </div>
                <button type="submit" class="submit-btn">Send</button>
            </form>
        </div>
    </div>

</main>

<!-- PRODUCT DETAIL OVERLAY -->
<div class="pdp-overlay" id="pdp-overlay">
    <div class="pdp">
        <button class="pdp-close" onclick="closePDP()">×</button>
        <div class="pdp-imgs">
            <div class="pdp-main"><img id="pdp-main-img" src="" alt=""></div>
            <div class="pdp-thumbs" id="pdp-thumbs"></div>
        </div>
        <div class="pdp-info">
            <div class="pdp-spec" id="pdp-spec"></div>
            <h2 class="pdp-name" id="pdp-name"></h2>
            <div class="pdp-price" id="pdp-price"></div>
            <p class="pdp-desc" id="pdp-desc"></p>
            <div class="pdp-size-label" id="pdp-size-label">Select Size</div>
            <div class="pdp-sizes" id="pdp-sizes"></div>
        </div>
    </div>
</div>



<!-- LIGHTBOX -->
<div class="lightbox" id="lightbox" onclick="handleLbClick(event)">

    <!--
        CLOSE BUTTON:
        • position:fixed  → always top-right of viewport, never moves with image
        • display:flex + align/justify:center → SVG is pixel-perfect centered
        • SVG X icon → no font-metric centering issues
    -->
    <button class="lb-close" onclick="closeLightbox()" aria-label="Close">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none"
             stroke="currentColor" stroke-width="2.5" stroke-linecap="round">
            <line x1="18" y1="6" x2="6" y2="18"/>
            <line x1="6" y1="6" x2="18" y2="18"/>
        </svg>
    </button>

    <button class="lb-arrow prev" onclick="event.stopPropagation();stepImg(-1)" aria-label="Previous">
        <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round">
            <polyline points="15 18 9 12 15 6"/>
        </svg>
    </button>

    <div class="lb-img-wrap">
        <img id="lb-img" src="" alt="">
    </div>

    <button class="lb-arrow next" onclick="event.stopPropagation();stepImg(1)" aria-label="Next">
        <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round">
            <polyline points="9 18 15 12 9 6"/>
        </svg>
    </button>

</div>

<!-- BACK TO TOP -->
<button class="back-top" id="back-top" onclick="window.scrollTo({top:0,behavior:'smooth'})" aria-label="Back to top">
    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round">
        <polyline points="18 15 12 9 6 15"/>
    </svg>
</button>

<div class="toast-area" id="toast-area"></div>


<script>
// ── Images ────────────────────────────────────────────────────────
const images = [
    'images/webp/1.webp',
    'images/webp/6.webp',
    'images/webp/7.webp',
    'images/webp/8.webp',
    'images/webp/hero.webp',
    'images/webp/pg1.webp',
    'images/webp/pg2.webp',
    'images/webp/all_3.webp',
    'images/webp/cards.webp',
    'images/webp/cards_and_packs.webp',
    'images/webp/full_shot.webp',
    'images/webp/bus_ad.webp',
    'images/webp/oxa3web.webp',
    'images/webp/peakport.webp',
    'images/webp/peakinsta.webp',
    'images/webp/peakport_copy.webp',
    'images/webp/img_4411.webp',
    'images/webp/img_4412.webp',
    'images/webp/img_4413.webp',
    'images/webp/img_4415.webp',
    'images/webp/img_4416.webp',
    'images/webp/img_4418.webp',
    'images/webp/img_4448.webp',
    'images/webp/0mhoy0a9fhnklvtvalyhikte9sm.webp',
    'images/webp/0udmd1dqmdxttj2tmo1w6oyde6q.webp',
    'images/webp/265c005b-d5b5-483f-8b7a-bcbb94b24a4b.webp',
    'images/webp/2ebhjluf7jnnicix5nmrmkiszs.webp',
    'images/webp/2lrgrixzjfacxkowqvppidmfca.webp',
    'images/webp/3iojgg9pg5ishphded0qrhgjg.webp',
    'images/webp/3rzume3pmoeicjrha6nnektiso.webp',
    'images/webp/3uueo2w2giml0ivvh0mak7mrhks.webp',
    'images/webp/447f43a5-9af7-41d6-8c613d066eac9011_sc7.webp',
    'images/webp/50rjhy5ebvdvmkksjalgukghcla.webp',
    'images/webp/5itwgkoayxmyoialca6rjjxgw.webp',
    'images/webp/5lraffdhtsknwafrepaerwsnk0.webp',
    'images/webp/68tqbmrjrujtixok79482ezbq.webp',
    'images/webp/6aol8golrb4senfw9idrned8.webp',
    'images/webp/7chhnlz6vojjerjddachgnya0e.webp',
    'images/webp/8003b4fb-67cc-44d6-9831c33d122a63bf_sc7.webp',
    'images/webp/89efgkuyuy3flehxhsus61kxuug.webp',
    'images/webp/8he9te1jaool20kvh9ox5j2ri.webp',
    'images/webp/8ll4ezw9dmcsalasqjvx15qg8.webp',
    'images/webp/8oizq8ydfwrbyb7uqfs16p4wxc.webp',
    'images/webp/8s21jtaonfvqz9wya5ypoxppw.webp',
    'images/webp/95f5ghjlwg2av7b4ufmgwltctsw.webp',
    'images/webp/9bc5beb0-8658-4f35-8090b51163734de5_sc7.webp',
    'images/webp/ainuzhhn3ibk883yqsvvyud4dms.webp',
    'images/webp/c7hfcqhvjhsuwnlkuk5d6iyfpk.webp',
    'images/webp/daaiyqejjv5na752yvefcsnqw8.webp',
    'images/webp/dh1am2oolyuvobii6bjy4ss1p9g.webp',
    'images/webp/dru28gwriztfgkwxoafpnh5a6ci.webp',
    'images/webp/fblamxnlrdocyybgdgkn2bvxvs.webp',
    'images/webp/gjjajtjcqboxlqnjqmfcn7bfyyg.webp',
    'images/webp/hnsbmqgkfzck8pijawyscdkwmo.webp',
    'images/webp/keu3bgzc4jskao5zthopmzyeky.webp',
    'images/webp/mvvxrn2z7zxql37pswhsrzueyrc.webp',
    'images/webp/p1lf97kow8ecqirblbfufjigt2o.webp',
    'images/webp/pesmpmn9fullsze9xhk4puszw.webp',
    'images/webp/pm63310_0.webp',
    'images/webp/qdid4zpeenkdn7b4mqihbmdb5m.webp',
    'images/webp/sximvl9brhh4bygimynbtwycuhm.webp',
    'images/webp/vd9wduxlvlmmtzkvh3c240u6ksm.webp',
    'images/webp/y51ckw2eetnvsqt6amqyrk.webp',
    'images/webp/y5ktbqm6lccbb2lwsh6zdzwye8.webp',
    'images/webp/2024-10-15_13-59.webp',
    'videos/Animation%20Reel.mp4',
    'videos/astro-final.mp4',
    'videos/flag-loop.mp4',
    'videos/rock-loop.mp4',
    'videos/ravi-new.mp4',
    'videos/v-new.mp4',
];

// ── Helpers ───────────────────────────────────────────────────────
function shuffle(arr) {
    const a = [...arr];
    for (let i = a.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [a[i], a[j]] = [a[j], a[i]];
    }
    return a;
}

let shuffled = shuffle(images);
let saved    = JSON.parse(localStorage.getItem('savedPins') || '[]');

// ── Create a pin card ─────────────────────────────────────────────
const isVideo = src => /\.(mp4|webm|mov)$/i.test(src);

function makePin(src, showSave) {
    const div = document.createElement('div');
    div.className = 'pin';
    const isSaved = saved.includes(src);
    const safe    = src.replace(/\\/g, '\\\\').replace(/'/g, "\\'");

    const media = isVideo(src)
        ? `<video src="${src}" autoplay loop muted playsinline preload="metadata" style="width:100%;height:100%;object-fit:cover;display:block;border-radius:inherit"></video>`
        : `<img data-src="${src}" alt="">`;

    div.innerHTML = `
        ${media}
        ${showSave ? `
        <div class="pin-overlay">
            <button class="save-btn ${isSaved ? 'saved' : ''}"
                    onclick="toggleSave('${safe}',this,event)">
                ${isSaved ? 'Saved' : 'Save'}
            </button>
        </div>` : ''}
    `;

    if (!isVideo(src)) {
        div.addEventListener('click', e => {
            if (e.target.tagName !== 'BUTTON') openLightbox(src);
        });
    }

    return div;
}

// ── Lazy-load observer ────────────────────────────────────────────
const isMobile = window.matchMedia('(pointer:coarse)').matches;
const pinObserver = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (!entry.isIntersecting) return;
        const img = entry.target.querySelector('img[data-src]');
        if (!img) return;
        img.src = img.dataset.src;
        img.removeAttribute('data-src');
        img.decoding = 'async';
        img.addEventListener('load', () => {
            img.classList.add('visible');
            entry.target.classList.add('loaded');
        }, { once: true });
        img.addEventListener('error', () => entry.target.style.display = 'none', { once: true });
        pinObserver.unobserve(entry.target);
    });
}, { rootMargin: isMobile ? '150px 0px' : '400px 0px' });

// ── Render ────────────────────────────────────────────────────────
function renderHome() {
    const grid = document.getElementById('home-grid');
    grid.innerHTML = '';
    shuffled.forEach(src => {
        const pin = makePin(src, true);
        grid.appendChild(pin);
        pinObserver.observe(pin);
    });
    initTilt('home-grid');
}

function renderSaved() {
    const grid  = document.getElementById('saved-grid');
    const empty = document.getElementById('saved-empty');
    const count = document.getElementById('saved-count');
    grid.innerHTML = '';

    if (count) count.textContent = saved.length === 1 ? '1 item' : saved.length + ' items';

    if (saved.length === 0) {
        grid.style.display  = 'none';
        empty.style.display = 'flex';
        return;
    }

    grid.style.display  = '';
    empty.style.display = 'none';
    saved.forEach(src => {
        const pin = makePin(src, false);
        grid.appendChild(pin);
        pinObserver.observe(pin);
    });
    initTilt('saved-grid');
}

function toggleSave(src, btn, e) {
    e.stopPropagation();
    const idx = saved.indexOf(src);
    if (idx > -1) {
        saved.splice(idx, 1);
        btn.textContent = 'Save';
        btn.classList.remove('saved');
        toast('Removed from saved', '📌');
    } else {
        saved.push(src);
        btn.textContent = 'Saved';
        btn.classList.add('saved');
        toast('Saved!', '✓');
    }
    localStorage.setItem('savedPins', JSON.stringify(saved));
    renderSaved();
}

// ── Navigation ────────────────────────────────────────────────────
function showPage(page) {
    document.querySelectorAll('.nav-tab').forEach(t =>
        t.classList.toggle('active', t.dataset.page === page));
    document.querySelectorAll('.page').forEach(p =>
        p.classList.remove('active'));
    // Reset header mode when leaving/entering home
    const h = document.getElementById('header');
    if (page !== 'home') {
        h.classList.remove('hero-mode');
    }
    document.getElementById(page + '-page').classList.add('active');
    document.querySelectorAll('.mob-item').forEach(m =>
        m.classList.toggle('active', m.dataset.page === page));

    window.scrollTo({ top: 0, behavior: 'smooth' });
    window.location.hash = page;

    if (page === 'saved') renderSaved();
    if (page === 'home') setTimeout(updateHeaderMode, 50);
}

// ── Mobile menu ───────────────────────────────────────────────────
function openMobileMenu() {
    document.getElementById('mob-menu').classList.add('open');
    document.getElementById('mob-backdrop').classList.add('open');
    document.body.style.overflow = 'hidden';
}

function closeMobileMenu() {
    document.getElementById('mob-menu').classList.remove('open');
    document.getElementById('mob-backdrop').classList.remove('open');
    document.body.style.overflow = '';
}

function mobileNav(page) {
    closeMobileMenu();
    setTimeout(() => showPage(page), 280);
}

// ── Lightbox ──────────────────────────────────────────────────────
let _list = [], _idx = 0;

function preloadAdjacent() {
    [_idx - 1, _idx + 1].forEach(i => {
        if (i >= 0 && i < _list.length) new Image().src = _list[i];
    });
}

function openLightbox(src) {
    const savedPage = document.getElementById('saved-page');
    _list = savedPage.classList.contains('active') && saved.length > 0
            ? saved : shuffled;
    _idx  = _list.indexOf(src);
    if (_idx < 0) _idx = 0;

    document.getElementById('lb-img').src = src;
    document.getElementById('lightbox').classList.add('active');
    document.body.style.overflow = 'hidden';
    refreshArrows();
    preloadAdjacent();
}

function closeLightbox() {
    document.getElementById('lightbox').classList.remove('active');
    document.body.style.overflow = '';
}

function handleLbClick(e) {
    if (e.target.id === 'lightbox') closeLightbox();
}

function stepImg(dir) {
    _idx = (_idx + dir + _list.length) % _list.length;
    document.getElementById('lb-img').src = _list[_idx];
    refreshArrows();
    preloadAdjacent();
}

function refreshArrows() {
    document.querySelector('.lb-arrow.prev').style.opacity =
        _idx === 0                 ? '0.25' : '1';
    document.querySelector('.lb-arrow.next').style.opacity =
        _idx === _list.length - 1  ? '0.25' : '1';
}

// ── Shop filter ───────────────────────────────────────────────────
// ── PRODUCTS DATA (loaded from products.json) ─────────────────────
let PRODUCTS = [];

// ── BRAILLE ───────────────────────────────────────────────────────
const BRAILLE_MAP = {
    a:'⠁',b:'⠃',c:'⠉',d:'⠙',e:'⠑',f:'⠋',g:'⠛',h:'⠓',i:'⠊',j:'⠚',
    k:'⠅',l:'⠇',m:'⠍',n:'⠝',o:'⠕',p:'⠏',q:'⠟',r:'⠗',s:'⠎',t:'⠞',
    u:'⠥',v:'⠧',w:'⠺',x:'⠭',y:'⠽',z:'⠵',' ':'⠀'
};
function toBraille(s) { return [...s.toLowerCase()].map(c => BRAILLE_MAP[c] || c).join(''); }
const UNIVERSE_FACTS = [
    'space is completely silent',
    'we are made of star stuff',
    'time moves slower near gravity',
    'light takes eight minutes to reach earth',
    'the universe is 13 billion years old',
    'neutron stars spin 600 times per second',
    'more stars than grains of sand on earth',
    'black holes bend light itself',
    'a day on venus is longer than its year',
    'saturn would float on water',
    'dark matter makes up most of the universe',
    'the sun loses four million tons per second',
    'you are made of exploded stars',
    'a teaspoon of neutron star weighs a billion tons',
    'the milky way has 400 billion stars',
    'empty space is not actually empty',
];
const BRAILLE_FACTS = UNIVERSE_FACTS.map(toBraille);

// Circled digit pairs: ⓪①②…⑨
function circledPair(n) {
    const c = ['⓪','①','②','③','④','⑤','⑥','⑦','⑧','⑨'];
    const s = String(n).padStart(2, '0');
    return s.split('').map(d => c[+d]).join('');
}

// Populate all braille strips
(function initBrailleStrip() {
    const chunk = BRAILLE_FACTS.join('  ⠂  ');
    const content = chunk + '  ⠂  ' + chunk + '  ⠂  ';
    document.querySelectorAll('.braille-strip-inner').forEach(el => {
        el.textContent = content;
    });
})();

// ── SOLO SHOP VIEW ─────────────────────────────────────────────────
let soloIdx  = 0;
let soloSize = null;

function renderSoloShop() {
    if (!PRODUCTS || PRODUCTS.length === 0) return;
    const p     = PRODUCTS[soloIdx];
    const total = PRODUCTS.length;
    const sizes = p.sizes || [];
    soloSize = sizes.length === 1 ? sizes[0] : null;

    const pad    = n => String(n).padStart(2,'0');
    const single = total === 1;

    // Hide dot rail when only 1 product
    const rail = document.getElementById('solo-dot-rail');
    if (rail)   rail.style.display = single ? 'none' : '';
    document.getElementById('shop-count').textContent   = single
        ? '1 specimen'
        : pad(soloIdx+1) + ' / ' + pad(total) + ' specimens';
    document.getElementById('solo-catalog-ref').textContent = 'SPECIMEN // ' + (p.id || '—').toUpperCase();
    document.getElementById('solo-spec').textContent   = p.spec;
    document.getElementById('solo-name').textContent   = p.name;
    document.getElementById('solo-price').textContent  = '$' + p.price;
    document.getElementById('solo-desc').textContent   = p.desc;

    // Size label — hide if no variants
    const sizeLabelEl = document.getElementById('solo-size-label');
    sizeLabelEl.textContent = 'Select ' + (p.variantLabel || 'Size');
    sizeLabelEl.style.display = sizes.length ? '' : 'none';

    // Data strip
    const strip = document.getElementById('solo-data-strip');
    strip.innerHTML = [
        ['CAT',   p.cat  || '—'],
        ['PRICE', '$' + p.price],
        ['UNITS', sizes.length ? sizes.length + ' opts' : '—'],
    ].map(([l,v]) => `<div class="solo-data-cell"><span class="solo-data-label">${l}</span><span class="solo-data-value">${v}</span></div>`).join('');

    // Image
    const img = document.getElementById('solo-img');
    img.src = p.imgs[0]; img.alt = p.name;

    // Thumbs
    const thumbs = document.getElementById('solo-thumbs');
    thumbs.innerHTML = '';
    if (p.imgs.length > 1) {
        p.imgs.forEach((src, i) => {
            const btn = document.createElement('button');
            btn.className = 'solo-thumb' + (i === 0 ? ' active' : '');
            btn.innerHTML = `<img src="${src}" alt="">`;
            btn.onclick = () => {
                img.src = src;
                thumbs.querySelectorAll('.solo-thumb').forEach((t,j) => t.classList.toggle('active', j===i));
            };
            thumbs.appendChild(btn);
        });
    }

    // Sizes — hide if no variants
    const sizesEl = document.getElementById('solo-sizes');
    sizesEl.innerHTML = '';
    sizesEl.style.display = sizes.length ? '' : 'none';
    sizes.forEach(sz => {
        const btn = document.createElement('button');
        btn.className = 'pdp-size-btn' + (sizes.length === 1 ? ' active' : '');
        btn.textContent = sz;
        btn.onclick = () => {
            soloSize = sz;
            sizesEl.querySelectorAll('.pdp-size-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
        };
        sizesEl.appendChild(btn);
    });

    // Braille
    const bEl = document.getElementById('solo-braille');
    bEl.textContent = BRAILLE_FACTS[soloIdx % BRAILLE_FACTS.length];
    bEl.title       = UNIVERSE_FACTS[soloIdx % UNIVERSE_FACTS.length];
    document.getElementById('solo-idx').textContent = circledPair(soloIdx);

    // Dot rail dots (only when multiple products)
    if (!single && rail) {
        if (rail.children.length !== total) {
            rail.innerHTML = '';
            PRODUCTS.forEach((_, i) => {
                const d = document.createElement('button');
                d.className = 'solo-dot';
                d.title = PRODUCTS[i].name;
                d.onclick = () => soloJump(i);
                rail.appendChild(d);
            });
        }
        rail.querySelectorAll('.solo-dot').forEach((d,i) => d.classList.toggle('active', i===soloIdx));
    }

    // Animate info in
    const info = document.getElementById('solo-info-col');
    info.classList.remove('entering');
    void info.offsetWidth;
    info.classList.add('entering');
}

function soloStep(dir) {
    const wrap = document.getElementById('solo-img-wrap');
    if (wrap) {
        wrap.classList.add('flashing');
        setTimeout(() => wrap.classList.remove('flashing'), 400);
    }
    soloIdx = (soloIdx + dir + PRODUCTS.length) % PRODUCTS.length;
    renderSoloShop();
}

function soloJump(i) {
    if (i === soloIdx) return;
    const wrap = document.getElementById('solo-img-wrap');
    if (wrap) { wrap.classList.add('flashing'); setTimeout(() => wrap.classList.remove('flashing'), 400); }
    soloIdx = i;
    renderSoloShop();
}

function soloAddToCart() {
    if (!soloSize) {
        const el = document.getElementById('solo-sizes');
        el.classList.remove('shake'); void el.offsetWidth; el.classList.add('shake');
        return;
    }
    const p  = PRODUCTS[soloIdx];
    const ex = cart.find(i => i.id === p.id && i.size === soloSize);
    if (ex) { ex.qty++; } else { cart.push({ id: p.id, size: soloSize, qty: 1 }); }
    saveCart(); updateCartBadge();
    toast('Added to cart', '✓');
}

// ── GRID SHOP (preserved for future use) ──────────────────────────
function renderShop(cat) {
    const grid = document.getElementById('shop-grid');
    if (!grid) return;
    grid.innerHTML = '';
    const list = cat === 'all' ? PRODUCTS : PRODUCTS.filter(p => p.cat === cat);
    list.forEach((p, idx) => {
        const item = document.createElement('div');
        item.className = 'shop-item'; item.dataset.cat = p.cat;
        item.onclick = () => openPDP(p.id);
        const bFact = BRAILLE_FACTS[idx % BRAILLE_FACTS.length];
        const bTitle = UNIVERSE_FACTS[idx % UNIVERSE_FACTS.length];
        item.innerHTML = `
            <div class="shop-img-wrap">
                <img src="${p.imgs[0]}" alt="${p.name}" loading="lazy">
                <div class="shop-scan"></div>
            </div>
            <div class="shop-item-info">
                <div class="shop-item-spec">${p.spec}</div>
                <span class="shop-item-name">${p.name}</span>
                <span class="shop-item-price">$${p.price}</span>
                <div class="shop-item-braille-row">
                    <span class="shop-item-braille" title="${bTitle}">${bFact}</span>
                    <span class="shop-item-idx">${circledPair(idx)}</span>
                </div>
            </div>`;
        grid.appendChild(item);
    });
}

// ── PRODUCT DETAIL ────────────────────────────────────────────────
let currentPDP = null;
let selectedSize = null;

function openPDP(id) {
    const p = PRODUCTS.find(x => x.id === id);
    if (!p) return;
    currentPDP = p;
    selectedSize = p.sizes.length === 1 ? p.sizes[0] : null;

    document.getElementById('pdp-spec').textContent      = p.spec;
    document.getElementById('pdp-name').textContent      = p.name;
    document.getElementById('pdp-price').textContent     = '$' + p.price;
    document.getElementById('pdp-desc').textContent      = p.desc;
    document.getElementById('pdp-main-img').src          = p.imgs[0];
    document.getElementById('pdp-size-label').textContent = 'Select ' + (p.variantLabel || 'Size');

    const thumbs = document.getElementById('pdp-thumbs');
    thumbs.innerHTML = '';
    if (p.imgs.length > 1) {
        p.imgs.forEach((src, i) => {
            const btn = document.createElement('button');
            btn.className = 'pdp-thumb' + (i === 0 ? ' active' : '');
            btn.innerHTML = `<img src="${src}" alt="">`;
            btn.onclick = () => {
                document.getElementById('pdp-main-img').src = src;
                thumbs.querySelectorAll('.pdp-thumb').forEach((t,j) => t.classList.toggle('active', j === i));
            };
            thumbs.appendChild(btn);
        });
    }

    const sizes = document.getElementById('pdp-sizes');
    sizes.innerHTML = '';
    p.sizes.forEach(sz => {
        const btn = document.createElement('button');
        btn.className = 'pdp-size-btn' + (p.sizes.length === 1 ? ' active' : '');
        btn.textContent = sz;
        btn.onclick = () => {
            selectedSize = sz;
            sizes.querySelectorAll('.pdp-size-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
        };
        sizes.appendChild(btn);
    });

    document.getElementById('pdp-overlay').classList.add('open');
    document.body.style.overflow = 'hidden';
}

function closePDP() {
    document.getElementById('pdp-overlay').classList.remove('open');
    document.body.style.overflow = '';
}


// ── Keyboard nav for solo shop ─────────────────────────────────────
document.addEventListener('keydown', e => {
    if (document.body.style.overflow === 'hidden') return;
});

// ── Contact ───────────────────────────────────────────────────────
function handleContact(e) {
    e.preventDefault();
    toast('Message sent!', '✉️');
    e.target.reset();
}

// ── Toast ─────────────────────────────────────────────────────────
function toast(msg, icon = '✓') {
    const area = document.getElementById('toast-area');
    const el   = document.createElement('div');
    el.className = 'toast';
    el.innerHTML = `<span>${icon}</span><span>${msg}</span>`;
    area.appendChild(el);
    setTimeout(() => {
        el.classList.add('out');
        setTimeout(() => el.remove(), 260);
    }, 3000);
}

// ── Tilt (desktop) ───────────────────────────────────────────────
function initTilt(gridId) {
    const grid = document.getElementById(gridId);
    if (!grid || window.matchMedia('(pointer:coarse)').matches) return;

    grid.querySelectorAll('.pin').forEach(pin => {
        pin.addEventListener('mousemove', e => {
            const r  = pin.getBoundingClientRect();
            const rx = ((e.clientY - r.top  - r.height / 2) / (r.height / 2)) * -12;
            const ry = ((e.clientX - r.left - r.width  / 2) / (r.width  / 2)) *  12;
            pin.style.transform  = `perspective(900px) rotateX(${rx}deg) rotateY(${ry}deg) scale(1.02)`;
            pin.style.transition = 'transform 0.08s ease-out';
            pin.style.zIndex     = '5';
        });
        pin.addEventListener('mouseleave', () => {
            pin.style.transform  = 'perspective(900px) rotateX(0) rotateY(0) scale(1)';
            pin.style.transition = 'transform 0.4s ease-out';
            pin.style.zIndex     = '';
        });
    });
}

// ── Swipe support for lightbox ────────────────────────────────────
let _tx = 0, _ty = 0;
const lb = document.getElementById('lightbox');
lb.addEventListener('touchstart', e => {
    _tx = e.touches[0].clientX;
    _ty = e.touches[0].clientY;
}, { passive: true });
lb.addEventListener('touchend', e => {
    const dx = e.changedTouches[0].clientX - _tx;
    const dy = e.changedTouches[0].clientY - _ty;
    if (Math.abs(dx) > Math.abs(dy) && Math.abs(dx) > 40) {
        stepImg(dx > 0 ? -1 : 1);          // swipe left = next, right = prev
    } else if (dy > 80 && Math.abs(dx) < 40) {
        closeLightbox();                     // swipe down to close
    }
}, { passive: true });

// ── Keyboard shortcuts ────────────────────────────────────────────
document.addEventListener('keydown', e => {
    const lb = document.getElementById('lightbox');
    if (!lb.classList.contains('active')) return;
    if (e.key === 'Escape')     closeLightbox();
    if (e.key === 'ArrowLeft')  stepImg(-1);
    if (e.key === 'ArrowRight') stepImg(1);
});

// ── Scroll effects ────────────────────────────────────────────────
function updateHeaderMode() {
    const h       = document.getElementById('header');
    const onHome  = document.getElementById('home-page').classList.contains('active');
    const hero    = document.getElementById('hero-section');
    const heroH   = hero ? hero.offsetHeight : 0;
    const overHero = onHome && window.scrollY < heroH - 80;
    const farDown  = window.scrollY > 60;

    h.classList.toggle('hero-mode', overHero);
    h.classList.toggle('scrolled',  !overHero && farDown);
    document.getElementById('back-top').classList.toggle('show', window.scrollY > 400);
}
window.addEventListener('scroll', updateHeaderMode, { passive: true });

// ── Hash routing ──────────────────────────────────────────────────
window.addEventListener('load', () => {
    const hash = window.location.hash.replace('#', '');
    if (['home','saved','work','contact'].includes(hash)) showPage(hash);
});

// ── Loader ────────────────────────────────────────────────────────
(function () {
    const ldrEl     = document.getElementById('loader');
    const ldrCount  = document.getElementById('ldr-count');
    const ldrFill   = document.getElementById('ldr-fill');
    const ldrStatus = document.getElementById('ldr-status');
    const ldrDate   = document.getElementById('ldr-date');
    const hv        = document.getElementById('hero-video');

    // Date stamp
    ldrDate.textContent = new Date().toISOString().slice(0, 10).replace(/-/g, '.');

    // Show terminal lines with delay
    ['ldr-l1', 'ldr-l2', 'ldr-l3'].forEach((id, i) => {
        setTimeout(() => document.getElementById(id).classList.add('show'), i * 380 + 120);
    });

    let count      = 0;
    let videoReady = false;
    let minDone    = false;
    let finished   = false;
    const statuses = ['INITIALIZING', 'LOADING ASSETS', 'CALIBRATING', 'RENDERING', 'LAUNCHING'];

    function finishLoader() {
        if (finished || !videoReady || !minDone) return;
        finished = true;
        clearInterval(countTimer);
        ldrCount.textContent = '100';
        ldrFill.style.width  = '100%';
        ldrStatus.textContent = 'COMPLETE';
        setTimeout(() => {
            ldrEl.classList.add('done');
            document.body.classList.add('ready');
            updateHeaderMode();
        }, 480);
    }

    // Minimum visible time so animation breathes
    setTimeout(() => { minDone = true; finishLoader(); }, 2600);

    // Video ready signal
    if (hv) {
        hv.addEventListener('canplaythrough', () => { videoReady = true; finishLoader(); }, { once: true });
        hv.addEventListener('canplay', () => { hv.classList.add('playing'); videoReady = true; finishLoader(); }, { once: true });
        hv.addEventListener('playing', () => hv.classList.add('playing'), { once: true });
    } else {
        videoReady = true;
    }
    // Hard fallback — never trap user more than 5s
    setTimeout(() => {
        if (!videoReady) { videoReady = true; finishLoader(); }
        if (hv) hv.classList.add('playing');
    }, 5000);

    // Counting animation — fast start, slows near 99
    const countTimer = setInterval(() => {
        if (count >= 99 || finished) return;
        const speed = count < 60 ? (Math.random() * 4 + 2)
                    : count < 85 ? (Math.random() * 1.8 + 0.6)
                                 : (Math.random() * 0.5 + 0.1);
        count = Math.min(count + speed, 99);
        const r = Math.floor(count);
        ldrCount.textContent = String(r).padStart(3, '0');
        ldrFill.style.width  = r + '%';
        ldrStatus.textContent = statuses[Math.min(Math.floor(r / 22), statuses.length - 2)];
    }, 40);
})();

// ── Easter eggs ───────────────────────────────────────────────────
console.log('%c◈ Nico Maggioli Studio', 'font-size:18px;color:#FF8C33;font-weight:bold;');
console.log('%cType unlock() for a surprise.', 'color:#888;font-style:italic;');

window.unlock = () => {
    document.body.style.filter = 'hue-rotate(180deg)';
    setTimeout(() => document.body.style.filter = '', 600);
    return '🔓';
};

// Konami code → matrix rain
let kseq = [];
const kcode = ['ArrowUp','ArrowUp','ArrowDown','ArrowDown','ArrowLeft','ArrowRight','ArrowLeft','ArrowRight','b','a'];
document.addEventListener('keydown', e => {
    kseq.push(e.key); kseq = kseq.slice(-10);
    if (kseq.join(',') !== kcode.join(',')) return;

    const c = document.createElement('canvas');
    Object.assign(c.style, { position:'fixed', inset:'0', width:'100%', height:'100%', zIndex:'9998', pointerEvents:'none' });
    document.body.appendChild(c);
    c.width = innerWidth; c.height = innerHeight;
    const ctx  = c.getContext('2d');
    const chars = 'NICOMAGGIOLISUDIO';
    const cols  = Math.floor(c.width / 14);
    const drops = Array(cols).fill(1);
    let frames  = 0;
    const id = setInterval(() => {
        ctx.fillStyle = 'rgba(0,0,0,0.05)';
        ctx.fillRect(0, 0, c.width, c.height);
        ctx.fillStyle = '#FF8C33';
        ctx.font = '14px monospace';
        drops.forEach((y, i) => {
            ctx.fillText(chars[Math.floor(Math.random() * chars.length)], i * 14, y * 14);
            if (y * 14 > c.height && Math.random() > 0.975) drops[i] = 0;
            drops[i]++;
        });
        if (++frames > 300) { clearInterval(id); c.remove(); }
    }, 50);
});

// ── HUD clock ─────────────────────────────────────────────────────
(function () {
    const el = document.getElementById('hud-clock');
    if (!el) return;
    function tick() {
        const n = new Date();
        el.textContent = String(n.getHours()).padStart(2,'0') + ':' +
                         String(n.getMinutes()).padStart(2,'0') + ':' +
                         String(n.getSeconds()).padStart(2,'0');
    }
    tick();
    setInterval(tick, 1000);
})();

// ── Panel videos: random start times (each source URL is unique so browser
//    treats them as independent streams — no shared buffer sync) ────────
(function () {
    document.querySelectorAll('.hud-vid').forEach(v => {
        const isMain = v.classList.contains('hud-vid-main');

        function seekRandom() {
            if (!isMain && v.duration > 2) {
                // Pick a random point but leave 1s buffer before end
                v.currentTime = 0.5 + Math.random() * (v.duration - 1.5);
            }
        }

        // Primary: set on loadedmetadata
        v.addEventListener('loadedmetadata', seekRandom, { once: true });

        // Fallback: if canplay fires before seek stuck, reapply + make visible
        v.addEventListener('canplay', () => {
            if (!isMain && v.currentTime < 0.3 && v.duration > 2) seekRandom();
            v.classList.add('playing');
        }, { once: true });

        v.addEventListener('playing', () => v.classList.add('playing'), { once: true });
    });
})();

// ── Hero panels: designed layout + drag (mouse desktop, touch mobile) ─
(function () {
    const hero  = document.getElementById('hero-section');
    const isMob = window.innerWidth <= 900;
    const PAD   = 12;
    const BAR_H = 50;
    const NAV_H = 74;  // nav height + gap — keep panels below this on mobile

    // On mobile: show pa + pb + main (3 panels)
    // On desktop: all 7 panels
    const all = [...document.querySelectorAll('.hud-panel')];
    const panels = isMob
        ? all.filter(p => p.classList.contains('hud-pa') ||
                          p.classList.contains('hud-pb') ||
                          p.classList.contains('hud-main'))
        : all;

    // [leftF, topF, widthF, heightF, wobblePx]
    const DESKTOP_L = [
        [0.01, 0.02, 0.12, 0.48, 16],  // pa — tall portrait, far left
        [0.01, 0.53, 0.10, 0.27, 14],  // pb — short square, below pa
        [0.14, 0.04, 0.08, 0.34, 12],  // pc — thin sliver overlapping main
        [0.14, 0.42, 0.09, 0.40, 12],  // pd — taller sliver below pc
        [0.75, 0.04, 0.13, 0.22, 18],  // pe — small floating top-right
        [0.76, 0.60, 0.21, 0.32, 16],  // pf — wider bottom-right
        [0.77, 0.30, 0.13, 0.26, 14],  // pg — portrait, right-center gap
        [0.19, 0.03, 0.74, 0.90,  8],  // main — dominant center
    ];
    const MOBILE_L = [
        [0.04, 0.13, 0.44, 0.38, 12],  // pa — medium, upper-left
        [0.52, 0.52, 0.42, 0.35, 10],  // pb — medium, lower-right
        [0.07, 0.10, 0.78, 0.65,  8],  // main — large, central
    ];
    const DESKTOP_Z = [3, 3, 4, 4, 5, 5, 5, 1];
    const MOBILE_Z  = [4, 4, 1];

    const LAYOUTS = isMob ? MOBILE_L  : DESKTOP_L;
    const Z_ORDER = isMob ? MOBILE_Z  : DESKTOP_Z;

    function wobble(px) { return Math.round((Math.random() - 0.5) * 2 * px); }

    function place() {
        const W = hero.offsetWidth;
        const H = hero.offsetHeight;
        const minTop = isMob ? NAV_H : PAD;
        panels.forEach((panel, i) => {
            const [lf, tf, wf, hf, wob] = LAYOUTS[i];
            const w    = Math.round(wf * W);
            const h    = Math.round(hf * (H - BAR_H));
            const left = Math.max(PAD, Math.round(lf * W) + wobble(wob));
            const top  = Math.max(minTop, Math.round(tf * (H - BAR_H)) + wobble(wob));
            panel.style.left   = left + 'px';
            panel.style.top    = top  + 'px';
            panel.style.width  = w    + 'px';
            // hud-pg: let CSS aspect-ratio handle height so no black bars
            if (!panel.classList.contains('hud-pg')) {
                panel.style.height = h + 'px';
            }
            panel.style.right  = 'auto';
            panel.style.bottom = 'auto';
            panel.style.zIndex = Z_ORDER[i];
        });
    }

    let highZ = 10;

    function initDrag() {
        panels.forEach(panel => {
            if (isMob) {
                // ── Touch drag ──
                let sx, sy, sl, st;
                panel.addEventListener('touchstart', e => {
                    sx = e.touches[0].clientX;
                    sy = e.touches[0].clientY;
                    // Read from inline style if already dragged, else from rendered position
                    if (panel.style.left) {
                        sl = parseInt(panel.style.left);
                        st = parseInt(panel.style.top);
                    } else {
                        const hr = hero.getBoundingClientRect();
                        const pr = panel.getBoundingClientRect();
                        sl = pr.left - hr.left;
                        st = pr.top  - hr.top;
                    }
                    panel.style.zIndex = ++highZ;
                }, { passive: true });

                panel.addEventListener('touchmove', e => {
                    e.preventDefault();
                    const W = hero.offsetWidth;
                    const H = hero.offsetHeight;
                    let l = sl + (e.touches[0].clientX - sx);
                    let t = st + (e.touches[0].clientY - sy);
                    l = Math.max(PAD, Math.min(l, W - panel.offsetWidth  - PAD));
                    t = Math.max(NAV_H, Math.min(t, H - BAR_H - panel.offsetHeight - PAD));
                    panel.style.left = l + 'px';
                    panel.style.top  = t + 'px';
                }, { passive: false });

            } else {
                // ── Mouse drag ──
                panel.addEventListener('mousedown', e => {
                    e.preventDefault();
                    const heroR = hero.getBoundingClientRect();
                    const offX  = e.clientX - heroR.left - parseInt(panel.style.left || 0);
                    const offY  = e.clientY - heroR.top  - parseInt(panel.style.top  || 0);
                    panel.classList.add('dragging');
                    panel.style.zIndex = ++highZ;

                    function onMove(e) {
                        const heroR = hero.getBoundingClientRect();
                        const W = hero.offsetWidth;
                        const H = hero.offsetHeight;
                        let l = e.clientX - heroR.left - offX;
                        let t = e.clientY - heroR.top  - offY;
                        l = Math.max(PAD, Math.min(l, W - panel.offsetWidth  - PAD));
                        t = Math.max(PAD, Math.min(t, H - BAR_H - panel.offsetHeight - PAD));
                        panel.style.left = l + 'px';
                        panel.style.top  = t + 'px';
                    }
                    function onUp() {
                        panel.classList.remove('dragging');
                        document.removeEventListener('mousemove', onMove);
                        document.removeEventListener('mouseup',  onUp);
                    }
                    document.addEventListener('mousemove', onMove);
                    document.addEventListener('mouseup',  onUp);
                });
            }
        });
    }

    function initResize() {
        if (isMob) return;
        const DIRS = ['nw', 'ne', 'sw', 'se'];
        const MIN_W = 80, MIN_H = 60;

        panels.forEach(panel => {
            DIRS.forEach(dir => {
                const handle = document.createElement('div');
                handle.className = 'resize-handle';
                handle.dataset.dir = dir;
                panel.appendChild(handle);

                handle.addEventListener('mousedown', e => {
                    e.preventDefault();
                    e.stopPropagation(); // don't trigger drag
                    panel.style.zIndex = ++highZ;

                    const startX = e.clientX, startY = e.clientY;
                    const startL = parseInt(panel.style.left) || 0;
                    const startT = parseInt(panel.style.top)  || 0;
                    const startW = panel.offsetWidth;
                    const startH = panel.offsetHeight;

                    function onMove(e) {
                        const dx = e.clientX - startX;
                        const dy = e.clientY - startY;
                        const W  = hero.offsetWidth;
                        const H  = hero.offsetHeight;
                        let l = startL, t = startT, w = startW, h = startH;

                        if (dir === 'se' || dir === 'ne') w = Math.max(MIN_W, startW + dx);
                        if (dir === 'sw' || dir === 'nw') {
                            const nw = Math.max(MIN_W, startW - dx);
                            l = startL + (startW - nw);
                            w = nw;
                        }
                        if (dir === 'sw' || dir === 'se') h = Math.max(MIN_H, startH + dy);
                        if (dir === 'nw' || dir === 'ne') {
                            const nh = Math.max(MIN_H, startH - dy);
                            t = startT + (startH - nh);
                            h = nh;
                        }
                        l = Math.max(PAD, Math.min(l, W - MIN_W - PAD));
                        t = Math.max(PAD, Math.min(t, H - BAR_H - MIN_H - PAD));
                        panel.style.left   = l + 'px';
                        panel.style.top    = t + 'px';
                        panel.style.width  = w + 'px';
                        panel.style.height = h + 'px';
                    }
                    function onUp() {
                        document.removeEventListener('mousemove', onMove);
                        document.removeEventListener('mouseup', onUp);
                    }
                    document.addEventListener('mousemove', onMove);
                    document.addEventListener('mouseup', onUp);
                });
            });
        });
    }

    function fadeInPanels() {
        panels.forEach((panel, i) => {
            setTimeout(() => panel.classList.add('panel-in'), i * 380);
        });
    }

    requestAnimationFrame(() => {
        if (!isMob) place();   // mobile panels are CSS-positioned
        initDrag();
        initResize();

        // Stagger fade-in after the loader finishes
        if (document.body.classList.contains('ready')) {
            fadeInPanels();
        } else {
            const obs = new MutationObserver((_, o) => {
                if (!document.body.classList.contains('ready')) return;
                o.disconnect();
                setTimeout(fadeInPanels, 100);
            });
            obs.observe(document.body, { attributes: true, attributeFilter: ['class'] });
        }
    });
})();

// ── Projects ──────────────────────────────────────────────────────
let PROJECTS = [];

function openProject(idx) {
    const p = PROJECTS[idx];
    const galleryHTML = (p.gallery || []).map(src =>
        `<img src="${src}" referrerpolicy="no-referrer" alt="${p.name}" loading="lazy">`
    ).join('');
    const sectionsHTML = (p.sections || []).map(s =>
        `<div class="proj-detail-section">
            <div class="proj-detail-section-hd">${s.hd}</div>
            <p class="proj-detail-section-body">${s.body}</p>
        </div>`
    ).join('');
    document.getElementById('proj-detail-content').innerHTML = `
        <div class="proj-detail-header">
            <div class="proj-detail-cat">${p.cat}</div>
            <h1 class="proj-detail-title">${p.name}</h1>
            <div class="proj-detail-meta">
                <div class="proj-detail-meta-item">
                    <span class="proj-detail-meta-label">Year</span>
                    <span class="proj-detail-meta-value">${p.year}</span>
                </div>
                <div class="proj-detail-meta-item">
                    <span class="proj-detail-meta-label">Role</span>
                    <span class="proj-detail-meta-value">${p.role}</span>
                </div>
                <div class="proj-detail-meta-item">
                    <span class="proj-detail-meta-label">Services</span>
                    <span class="proj-detail-meta-value">${p.services}</span>
                </div>
            </div>
        </div>
        <div class="proj-detail-hero"><img src="${p.img}" referrerpolicy="no-referrer" alt="${p.name}"></div>
        <div class="proj-detail-body">
            <p class="proj-detail-desc">${p.desc}</p>
            <div class="proj-detail-sections">${sectionsHTML}</div>
            <div class="proj-detail-gallery">${galleryHTML}</div>
        </div>`;
    showPage('project');
    window.scrollTo(0, 0);
}

function renderProjects() {
    const grid = document.getElementById('proj-main');
    if (!grid) return;
    grid.innerHTML = '';

    // Scrolling status strip
    const statusInner = document.getElementById('work-status-inner');
    if (statusInner) {
        const names = PROJECTS.map(p => p.name).join('  ·  ');
        statusInner.textContent = names + '  ·  ' + names + '  ·  ';
    }

    // Project count
    const countEl = document.getElementById('proj-count');
    if (countEl) countEl.textContent = String(PROJECTS.length).padStart(2,'0') + ' / ' + String(PROJECTS.length).padStart(2,'0');

    PROJECTS.forEach((p, i) => {
        const braille = toBraille(p.name);
        const card = document.createElement('div');
        card.className = 'proj-card';
        card.onclick = () => openProject(i);
        card.innerHTML = `
            <div class="proj-card-img">
                <img src="${p.img}" referrerpolicy="no-referrer" alt="${p.name}" loading="lazy" onerror="this.parentElement.style.background='#1a1a1a'">
                <div class="proj-card-scan"></div>
            </div>
            <div class="proj-card-info">
                <div class="proj-card-name">${p.name}</div>
                <div class="proj-card-year">${p.year}</div>
                <div class="proj-card-braille-row">
                    <span class="proj-card-braille">${braille}</span>
                    <span class="proj-card-idx">${String(i+1).padStart(3,'0')}</span>
                </div>
            </div>`;
        grid.appendChild(card);
    });
}

// ── Init ──────────────────────────────────────────────────────────
renderHome();
renderSaved();

// Load projects async
(async function loadProjects() {
    try {
        const res = await fetch('projects.json?v=' + Date.now());
        PROJECTS = await res.json();
        renderProjects();
    } catch(e) {
        console.warn('projects.json not found');
    }
})();
</script>
</body>
</html>
